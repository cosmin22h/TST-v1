(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{263:function(e,t,n){"use strict";n.r(t);var a=n(55),c=n.n(a),r=n(1),s=n.n(r),i=n(23),o=n.n(i),l=n(3),u=n.n(l),d=n(8),j=n(15),b=n(13),p=n(6),h=n(11),f=n(363),m=n(359),x=n(88),O=n(89),v=n(0);function g(e){return Object(v.jsx)(m.a,Object(h.a)({elevation:6,variant:"filled"},e))}var w=function(e){var t=e.logout,n=Object(r.useState)(""),a=Object(p.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(!1),o=Object(p.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(""),j=Object(p.a)(d,2),h=j[0],m=j[1],w=Object(r.useState)(!1),N=Object(p.a)(w,2),y=N[0],S=N[1];return Object(r.useEffect)((function(){!function(){var e=new x("http://localhost:8080/socket"),t=O.over(e);t.connect({},(function(e){t.subscribe("/topic/socket/user/comments",(function(e){var t=e.body;s(t),u(!0)})),t.subscribe("/topic/socket/user/register",(function(e){var t=e.body;m(t),S(!0)}))}))}()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"ui secondary pointing large menu",children:[Object(v.jsx)(b.b,{to:"/",className:"item",children:"Reports"}),Object(v.jsx)(b.b,{to:"/admin/users",className:"item",children:"All Users"}),Object(v.jsx)(b.b,{to:"/admin/tvshows/view",className:"item",children:"View TV Shows"}),Object(v.jsx)(b.b,{to:"/admin/tvshows/add",className:"item",children:"Add TV Shows"}),Object(v.jsx)(b.b,{to:"/",className:"right item",onClick:t,children:"Logout"})]}),Object(v.jsx)("br",{}),Object(v.jsx)(f.a,{open:l,autoHideDuration:6e3,onClose:function(){return u(!1)},children:Object(v.jsx)(g,{onClose:function(){return u(!1)},severity:"info",children:c})}),Object(v.jsx)(f.a,{open:y,autoHideDuration:6e3,onClose:function(){return S(!1)},children:Object(v.jsx)(g,{onClose:function(){return S(!1)},severity:"warning",children:h})})]})},N=c.a.create({baseURL:"http://localhost:8080/TST",headers:{post:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"}}}),y=function(e){var t=e.user,n=e.cancelDelete,a=e.deleteUser;return Object(v.jsx)("div",{className:"ui segment",children:Object(v.jsxs)("div",{className:"ui popout",children:[Object(v.jsx)("div",{className:"ui items",children:Object(v.jsx)("div",{className:"item",children:Object(v.jsxs)("h3",{className:"header center",children:["Are you sure you want to delele ",t.username," ?"]})})}),Object(v.jsxs)("div",{className:"ui two bottom attached buttons",children:[Object(v.jsxs)("div",{className:"ui green button",onClick:a,children:[Object(v.jsx)("i",{className:"x icon"}),"Confirm"]}),Object(v.jsxs)("div",{className:"ui red button",onClick:n,children:[Object(v.jsx)("i",{className:"x icon"}),"Cancel"]})]})]})})},S=function(){var e=Object(r.useState)({list:[],seletedUser:null}),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(0),j=Object(p.a)(l,2),h=j[0],f=j[1];Object(r.useEffect)((function(){m()}),[h]);var m=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/basic-user/view");case 3:t=e.sent,a({list:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){o(!1),a({list:n.list,seletedUser:null})},O=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(),e.prev=1,e.next=4,N.delete("/basic-user/".concat(n.seletedUser.id,"/delete"));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0.response);case 9:f(!h);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsxs)("table",{className:"ui compact celled definition table",children:[Object(v.jsx)("thead",{className:"full-width",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"Username"}),Object(v.jsx)("th",{children:"Email"}),Object(v.jsx)("th",{children:"Active account"}),Object(v.jsx)("th",{children:"Role"}),Object(v.jsx)("th",{children:"Date Joined"}),Object(v.jsx)("th",{children:"Active session"}),Object(v.jsx)("th",{children:"Last login"}),Object(v.jsx)("th",{children:"Last logout"})]})}),Object(v.jsx)("tbody",{children:0!==n.list.length?n.list.map((function(e){var t="False";e.isActive&&(t="True");var c="False";return e.authSession.isActive&&(c="True"),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"collapsing",children:Object(v.jsxs)("div",{className:"ui fitted slider check checkbox",children:[Object(v.jsx)("input",{type:"checkbox",checked:e===n.seletedUser,onChange:function(){return function(e){o(!1);var t=null;e!==n.seletedUser&&(t=e),a({list:n.list,seletedUser:t})}(e)}}),Object(v.jsx)("label",{})]})}),Object(v.jsx)("td",{children:e.username}),Object(v.jsx)("td",{children:e.email}),Object(v.jsx)("td",{children:t}),Object(v.jsx)("td",{children:e.role}),Object(v.jsx)("td",{children:e.dateJoined}),Object(v.jsx)("td",{children:c}),Object(v.jsx)("td",{children:e.authSession.dateLastLogin}),Object(v.jsx)("td",{children:e.authSession.isActive?"":e.authSession.dateLastLogout})]},e.id)})):null}),Object(v.jsx)("tfoot",{className:"full-width",children:Object(v.jsx)("tr",{children:Object(v.jsxs)("th",{colSpan:"9",children:[Object(v.jsx)(b.b,{to:"/admin/users/add",children:Object(v.jsxs)("div",{className:"ui right floated small primary labeled icon button",children:[Object(v.jsx)("i",{className:"user icon"}),"Add User"]})}),void 0!==n.seletedUser&&null!==n.seletedUser?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"ui small red button",onClick:function(){return o(!0)},children:"Delete User"}),Object(v.jsx)(b.b,{to:"/admin/users/update/".concat(n.seletedUser.id),children:Object(v.jsx)("div",{className:"ui small black button",children:"Edit User"})})]}):null]})})})]}),i?Object(v.jsx)(y,{user:n.seletedUser,cancelDelete:x,deleteUser:O}):null,Object(v.jsx)("br",{})]})},k=n(22),C=n(314),T=n(315),A=[{label:"Admin",value:"ADMIN"},{label:"User",value:"USER"}],I=function(){var e=Object(r.useState)({username:"",email:"",role:A[1].value,isActive:!1,password:""}),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(p.a)(c,2),o=i[0],l=i[1],j=function(e){var t=e.target,c="checkbox"===t.type?t.checked:t.value,r=t.name;a(Object(h.a)(Object(h.a)({},n),{},Object(k.a)({},r,c)))},b=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(!0),a="ADMIN"===n.role?"admin":"user",!(n.password.length<8)){e.next=7;break}return alert("Password must have at least 8 characters"),l(!1),e.abrupt("return");case 7:return e.next=9,N.post("/".concat(a,"/add"),n).then((function(){l(!1),alert("New "+a+" addeed"),window.location.assign("/admin/users")})).catch((function(e){var t=e.response.data;t.message.includes("Bad request")?alert("Password must contains  at least 1 uppercase, 1 lowercase, 1 digit, 1 special character"):alert(t.message),l(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(s.a.Fragment,{children:o?Object(v.jsx)(C.a,{open:o,style:{color:"#fff"},children:Object(v.jsx)(T.a,{color:"inherit"})}):Object(v.jsxs)("form",{className:"ui form",onSubmit:b,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",placeholder:"Username",required:!0,value:n.username,onChange:j})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Email",required:!0,value:n.email,onChange:j})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Role"}),Object(v.jsx)("select",{className:"ui dropdown",name:"role",value:n.role,onChange:j,children:A.map((function(e){return Object(v.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("div",{className:"ui toggle checkbox",children:[Object(v.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:n.isActive,onChange:j}),Object(v.jsx)("label",{children:"Active"})]})}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Password"}),Object(v.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0,value:n.password,onChange:j})]}),Object(v.jsx)("button",{type:"submit",className:"fluid green ui button",children:"Add"})]})})},D=function(){var e=Object(j.g)().id,t=Object(r.useState)({username:"",email:"",isActive:!1}),n=Object(p.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)({username:"",email:"",isActive:!1}),i=Object(p.a)(s,2),o=i[0],l=i[1];Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.get("/basic-user/".concat(e));case 3:n=t.sent,c(n.data),l(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var b=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;l(Object(h.a)(Object(h.a)({},o),{},Object(k.a)({},a,n)))},f=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.put("/basic-user/".concat(e,"/edit"),o);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert("Username/Email already exists");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("form",{className:"ui form",onSubmit:f,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:o.username,required:!0,onChange:b})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:o.email,required:!0,onChange:b})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("div",{className:"ui toggle checkbox",children:[Object(v.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:o.isActive,onChange:b}),Object(v.jsx)("label",{children:"Active"})]})}),JSON.stringify(a)!==JSON.stringify(o)?Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"submit",className:"fluid green ui button",children:"Save"})}):null]})},E=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/tv-show/view");case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){c()}),[]);return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsxs)("table",{className:"ui celled padded table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"TMDB ID"}),Object(v.jsx)("th",{children:"No. Seasons"}),Object(v.jsx)("th",{children:"No. Episodes"}),Object(v.jsx)("th",{children:"Status"}),Object(v.jsx)("th",{children:"Next Episode"})]})}),Object(v.jsx)("tbody",{children:0===n.length?null:n.map((function(e){var t="Returning Series"===e.status?"warning":"positive";return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(e.id),children:e.name})}),Object(v.jsx)("td",{children:e.tmdbId}),Object(v.jsx)("td",{children:e.noOfSeasons}),Object(v.jsx)("td",{children:e.noOfEpisodes}),Object(v.jsxs)("td",{className:t,children:[null!==e.nextAirDate?Object(v.jsx)("i",{className:"attention icon"}):null,e.status]}),Object(v.jsx)("td",{children:e.nextAirDate})]},e.id)}))})]}),Object(v.jsx)("br",{})]})},P=n(104),R=c.a.create({baseURL:"https://api.themoviedb.org/3"}),F=function(e){var t=e.labelText,n=e.onFormSubmit,a=Object(r.useState)(""),c=Object(p.a)(a,2),s=c[0],i=c[1],o=function(e){e.preventDefault(),n(s),i("")};return Object(v.jsx)("div",{className:"search-bar ui segment",children:Object(v.jsxs)("form",{className:"ui form",onSubmit:o,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:t}),Object(v.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(v.jsx)("button",{type:"submit",onClick:o,className:"fluid grey ui button",children:"Search"})]})})},L=function(e){var t=e.image,n=e.header,a=e.content,c=e.extrabtn,r=e.msg,s=e.togglePopout,i=e.onAddEvent;return Object(v.jsx)("div",{className:"ui segment",children:Object(v.jsxs)("div",{className:"ui popout",children:[Object(v.jsx)("div",{className:"ui items",children:Object(v.jsxs)("div",{className:"item",children:[Object(v.jsx)("div",{className:"image",children:Object(v.jsx)("img",{alt:"Not found",src:t,widtg:"200",hight:"200"})}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("h3",{className:"header",children:n}),Object(v.jsx)("div",{className:"meta",children:Object(v.jsx)("span",{children:"Overview"})}),Object(v.jsx)("div",{className:"description",children:Object(v.jsx)("p",{children:a})})]})]})}),function(){var e="yellow";return c&&(e="red"),Object(v.jsx)("div",{className:"ui ".concat(e," message"),children:Object(v.jsx)("div",{className:"header",style:{textAlign:"center"},children:r})})}(),Object(v.jsxs)("div",{className:"ui two bottom attached buttons",children:[c?null:Object(v.jsxs)("div",{className:"ui positive button",onClick:i,children:[Object(v.jsx)("i",{className:"add icon"}),"Add"]}),Object(v.jsxs)("div",{className:"ui red button",onClick:s,children:[Object(v.jsx)("i",{className:"x icon"}),"Cancel"]})]})]})})},U="340e6dcf860d1c30d2dbdf83219935f8",W="https://www.themoviedb.org/t/p/original",M=["IN DATABASE","NOT IN DATABASE"],_=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({tmdbId:0,name:"",genres:[],posterPath:"",noOfSeasons:0,noOfEpisodes:0,status:"",overview:"",networks:[],episodeRunTime:0,firstAirDate:"",lastAirDate:"",nextAirDate:""}),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(null),j=Object(p.a)(l,2),b=j[0],h=j[1],f=Object(r.useState)({isIn:!1,msg:M[1]}),m=Object(p.a)(f,2),x=m[0],O=m[1],g=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c,r,s,i,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({isIn:!1,msg:M[1]}),e.prev=1,e.next=4,N.get("/tv-show/add/check/".concat(t));case 4:n=e.sent,O({isIn:!0,msg:M[0]}),o(n.data),e.next=43;break;case 9:if(e.prev=9,e.t0=e.catch(1),"NOT_FOUND"!==e.t0.response.data.status){e.next=42;break}return e.prev=12,e.next=15,R.get("/tv/".concat(t,"?api_key=").concat(U));case 15:c=e.sent,r=[],s=1;case 18:if(!(s<=c.data.number_of_seasons)){e.next=32;break}return e.prev=19,e.next=22,R.get("/tv/".concat(t,"/season/").concat(s,"?api_key=").concat(U));case 22:for(i=e.sent,l=0;l<i.data.episodes.length;l++)d=i.data.episodes[l],r.push({id:null,noSeason:d.season_number,episodeNumber:d.episode_number,name:d.name,airDate:d.air_date,overview:d.overview,stillPath:"".concat(W).concat(d.still_path)});e.next=29;break;case 26:e.prev=26,e.t1=e.catch(19),console.log(e.t1.response);case 29:s++,e.next=18;break;case 32:j=c.data,o({tmdbId:j.id,name:j.name,genres:j.genres.map((function(e){return e.name})),posterPath:"".concat(W,"/").concat(j.poster_path),noOfSeasons:j.number_of_seasons,noOfEpisodes:j.number_of_episodes,status:j.status,overview:j.overview,networks:j.networks.map((function(e){return e.name})),episodeRunTime:Math.max.apply(Math,Object(P.a)(j.episode_run_time)),firstAirDate:j.first_air_date,lastAirDate:j.last_air_date,nextAirDate:null!==j.next_episode_to_air?j.next_episode_to_air.air_date:null}),h(r),e.next=40;break;case 37:e.prev=37,e.t2=e.catch(12),console.log(e.t2.response);case 40:e.next=43;break;case 42:console.log(e.t0.response);case 43:a(!0);case 44:case"end":return e.stop()}}),e,null,[[1,9],[12,37],[19,26]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/tv-show/add",i);case 3:return e.next=5,N.post("/episode/add/tv-show/".concat(i.tmdbId),b);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:a(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{labelText:"Add TV Show (Enter the ID - TMDB)",onFormSubmit:g}),n?Object(v.jsx)(L,{image:i.posterPath,header:"".concat(i.name," (First air date: ").concat(i.firstAirDate,")"),content:i.overview,extrabtn:x.isIn,msg:x.msg,togglePopout:function(){a(!n)},onAddEvent:w}):null]})},z=[{label:"Returning Series",value:"Returning Series"},{label:"Ended",value:"Ended"}],B=function(){var e=Object(j.g)().id,t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)({id:"",tmdbId:"",name:"",genres:"",posterPath:"",noOfSeasons:"",noOfEpisodes:"",status:"",overview:"",networks:"",episodeRunTime:"",firstAirDate:"",lastAirDate:"",nextAirDate:"",rating:""}),o=Object(p.a)(i,2),l=o[0],f=o[1];Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.get("/tv-show/".concat(e));case 3:n=t.sent,f(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),"NOT_FOUND"===t.t0.response.data.status&&c(!0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var m=function(e){var t,n=e.target,a=n.name;t="genres"===a||"networks"===a?n.value.split(","):n.value,f(Object(h.a)(Object(h.a)({},l),{},Object(k.a)({},a,t)))},x=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l.name){e.next=3;break}return alert("Field 'Name' missing"),e.abrupt("return");case 3:return e.prev=3,e.next=6,N.put("/tv-show/".concat(l.id,"/edit"),l);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.delete("/tv-show/".concat(l.id,"/delete"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(s.a.Fragment,{children:a?Object(v.jsx)(j.a,{to:"/admin/tvshows/view"}):Object(v.jsxs)("form",{className:"ui form",children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"TMDB ID"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"tmdbId",name:"tmdbId",value:l.tmdbId,onChange:m,readOnly:!0})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:l.name,onChange:m,required:!0})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Genres"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"genres",name:"genres",value:l.genres,onChange:m})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Poster path"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"posterPath",name:"posterPath",value:l.posterPath,onChange:m})]}),Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"No. of seasons"}),Object(v.jsx)("input",{type:"number",min:"0",className:"form-control",id:"noOfSeasons",name:"noOfSeasons",value:l.noOfSeasons,onChange:m})]}),Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"No. of episodes"}),Object(v.jsx)("input",{type:"number",min:"0",className:"form-control",id:"noOfEpisodes",name:"noOfEpisodes",value:l.noOfEpisodes,onChange:m})]}),Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"Status"}),Object(v.jsx)("select",{className:"ui dropdown",name:"status",value:l.status,onChange:m,children:z.map((function(e){return Object(v.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("label",{children:["Overview",Object(v.jsx)("textarea",{id:"overview",name:"overview",value:l.overview,onChange:m})]})}),Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Rating"}),Object(v.jsx)("input",{type:"number",step:"0.1",min:"0",max:"5",className:"form-control",id:"rating",name:"rating",value:l.rating,readOnly:!0})]}),Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Network"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"networks",name:"networks",value:l.networks,onChange:m})]})]}),Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"Episode Run Time"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"episodeRunTime",name:"episodeRunTime",value:l.episodeRunTime,onChange:m})]}),Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"First Air Date"}),Object(v.jsx)("input",{type:"date",className:"form-control",id:"firstAirDate",name:"firstAirDate",value:l.firstAirDate,onChange:m})]}),Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"Next Air Date"}),Object(v.jsx)("input",{type:l.status===z[1].value?"text":"date",className:"form-control",id:"nextAirDate",name:"nextAirDate",value:null===l.nextAirDate?"":l.nextAirDate,onChange:m,readOnly:l.status===z[1].value})]})]}),Object(v.jsxs)("div",{className:"ui buttons",children:[Object(v.jsx)("button",{type:"submit",className:"ui positive button",onClick:x,children:"Save"}),Object(v.jsx)("div",{className:"or"}),Object(v.jsx)("button",{className:"ui negative button",onClick:O,children:"Delete"})]}),Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(l.id,"/episodes"),children:Object(v.jsx)("button",{type:"submit",className:"ui right floated button",children:"View Episodes"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})})},q=function(){var e=Object(j.g)().id,t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.get("/episode/episodes/tv-show/".concat(e));case 3:n=t.sent,c(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(e,"/add"),children:Object(v.jsx)("div",{className:"ui green button",children:"Add new Episode"})}),Object(v.jsxs)("table",{className:"ui celled padded table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Season"}),Object(v.jsx)("th",{children:"No."}),Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Air Date"}),Object(v.jsx)("th",{children:"Rating"})]})}),Object(v.jsx)("tbody",{children:0===a.length?null:a.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.noSeason}),Object(v.jsx)("td",{children:t.episodeNumber}),Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(e,"/episode/").concat(t.id),children:t.name})}),Object(v.jsx)("td",{children:t.airDate}),Object(v.jsx)("td",{children:t.rating})]},t.id)}))})]}),Object(v.jsx)("br",{})]})},V=function(){var e=Object(j.g)(),t=e.idShow,n=e.idEpisode,a=Object(r.useState)({id:"",noSeason:"",episodeNumber:"",name:"",airDate:"",overview:"",rating:"",stillPath:""}),c=Object(p.a)(a,2),s=c[0],i=c[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/episode/".concat(n));case 3:t=e.sent,i(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]);var o=function(e){var t=e.target,n=t.name,a=t.value;i(Object(h.a)(Object(h.a)({},s),{},Object(k.a)({},n,a)))},l=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.put("/episode/edit/".concat(s.id),s);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.delete("/episode/delete/".concat(s.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{className:"ui form",onSubmit:l,children:[Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(t,"/episodes"),children:Object(v.jsx)("div",{className:"ui button",children:"Back to episodes"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:s.name,onChange:o,required:!0})]}),Object(v.jsxs)("div",{className:"four wide field",children:[Object(v.jsx)("label",{children:"Season"}),Object(v.jsx)("input",{type:"number",min:"0",className:"form-control",id:"noSeason",name:"noSeason",value:s.noSeason,onChange:o})]}),Object(v.jsxs)("div",{className:"four wide field",children:[Object(v.jsx)("label",{children:"Episode"}),Object(v.jsx)("input",{type:"number",min:"0",className:"form-control",id:"episodeNumber",name:"episodeNumber",value:s.episodeNumber,onChange:o})]})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Poster"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"stillPath",name:"stillPath",value:s.stillPath,onChange:o})]}),Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Air date"}),Object(v.jsx)("input",{type:"date",className:"form-control",id:"airDate",name:"airDate",value:s.airDate,onChange:o})]}),Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Rating"}),Object(v.jsx)("input",{type:"number",min:"0",step:"0.1",className:"form-control",id:"rating",name:"rating",value:s.rating,onChange:o,readOnly:!0})]})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("label",{children:["Overview",Object(v.jsx)("textarea",{id:"overview",name:"overview",value:s.overview,onChange:o})]})}),Object(v.jsxs)("div",{className:"ui buttons",children:[Object(v.jsx)("button",{type:"submit",className:"ui positive button",children:"Save"}),Object(v.jsx)("div",{className:"or"}),Object(v.jsx)("button",{className:"ui negative button",onClick:f,children:"Delete"})]}),Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(t,"/episode/").concat(s.id,"/comments"),children:Object(v.jsx)("div",{className:"ui right floated button",children:"View comments"})})]})})},H=function(){var e=Object(j.g)().id,t=Object(r.useState)({noSeason:"",episodeNumber:"",name:"",airDate:"",overview:"",stillPath:""}),n=Object(p.a)(t,2),a=n[0],c=n[1],s=function(e){var t=e.target,n=t.name,r=t.value;c(Object(h.a)(Object(h.a)({},a),{},Object(k.a)({},n,r)))};console.log(e);var i=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.post("/episode/add-one/tv-show/".concat(e),a);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.response);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{className:"ui form",onSubmit:i,children:[Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(e,"/episodes"),className:"ui b",children:Object(v.jsx)("div",{className:"ui button",children:"Back to episodes"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:a.name,onChange:s,required:!0})]}),Object(v.jsxs)("div",{className:"four wide field",children:[Object(v.jsx)("label",{children:"Season"}),Object(v.jsx)("input",{type:"number",min:"0",className:"form-control",id:"noSeason",name:"noSeason",value:a.noSeason,onChange:s})]}),Object(v.jsxs)("div",{className:"four wide field",children:[Object(v.jsx)("label",{children:"Episode"}),Object(v.jsx)("input",{type:"number",min:"0",className:"form-control",id:"episodeNumber",name:"episodeNumber",value:a.episodeNumber,onChange:s})]})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{children:"Poster"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"stillPath",name:"stillPath",value:a.stillPath,onChange:s})]}),Object(v.jsx)("div",{className:"fields",children:Object(v.jsxs)("div",{className:"eight wide field",children:[Object(v.jsx)("label",{children:"Air date"}),Object(v.jsx)("input",{type:"date",className:"form-control",id:"airDate",name:"airDate",value:a.airDate,onChange:s})]})}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("label",{children:["Overview",Object(v.jsx)("textarea",{id:"overview",name:"overview",value:a.overview,onChange:s})]})}),Object(v.jsx)("button",{type:"submit",className:"ui fluid positive button",children:"Add"})]})})},G=n(317),Y=n(324),$=n(325),J=n(265),X=n(74),Z=n(326),K=n(323),Q=n(179),ee=n(158),te=n.n(ee),ne=n(157),ae=n.n(ne),ce=n(156),re=n.n(ce),se=n(7),ie=n(316),oe=Object(se.a)({root:{color:"#000","&:hover":{textDecoration:"none",color:"#000"}}})(ie.a),le=n(16),ue=n(183),de=n(155),je=n.n(de),be=Object(G.a)((function(e){return{inputRoot:{color:"#fff"},inputInput:Object(k.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),search:Object(k.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(le.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(le.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff"}}})),pe=function(e){var t=e.term,n=e.placeholder,a=e.onFormChange,c=e.onFormSubmit,r=be();return Object(v.jsxs)("form",{className:r.search,onSubmit:c,children:[Object(v.jsx)("div",{className:r.searchIcon,children:Object(v.jsx)(je.a,{})}),Object(v.jsx)(ue.a,{placeholder:n,classes:{root:r.inputRoot,input:r.inputInput},value:t,onChange:a})]})},he=n(318),fe=n(360),me=n(266),xe=n(178),Oe=Object(xe.a)({palette:{type:"dark"}}),ve=Object(G.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"scroll"},paperFade:{position:"absolute",top:"10%",backgroundColor:"#30302F",border:"2px solid #fff",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ge=function(e){var t=e.children,n=e.open,a=e.onClose,c=ve();return Object(v.jsx)(he.a,{theme:Oe,children:Object(v.jsx)(fe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:n,onClose:a,closeAfterTransition:!0,BackdropComponent:C.a,BackdropProps:{timeout:500},children:Object(v.jsx)(me.a,{in:n,children:Object(v.jsx)("div",{className:c.paperFade,children:t})})})})},we=n(319),Ne=n(268),ye=n(321),Se=n(320),ke=n(364),Ce=n(322),Te=n(105),Ae=n(106),Ie=Object(G.a)((function(e){return{root:{width:"100%",maxWidth:360},text:{color:"#fff"},button:{margin:e.spacing(1),marginLeft:e.spacing(3)},button2:{margin:e.spacing(1)}}})),De=Object(xe.a)({palette:{primary:Te.a,secondary:Ae.a}}),Ee=function(e){var t=e.viewFriends,n=e.onChangeNotification,a=Ie(),c=Object(r.useState)(""),i=Object(p.a)(c,2),o=i[0],l=i[1],b=Object(r.useState)([]),h=Object(p.a)(b,2),f=h[0],m=h[1],x=Object(r.useState)(!1),O=Object(p.a)(x,2),g=O[0],w=O[1],y=Object(j.f)(),S=localStorage.getItem("ID session");Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/friends/all-friends/".concat(S)).then((function(e){return m(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/friends/all-requests/".concat(S)).then((function(e){return m(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t?e():n()}),[S,g,t]);return Object(v.jsxs)(s.a.Fragment,{children:[t?Object(v.jsx)(pe,{term:o,placeholder:"Search user",onFormChange:function(e){l(e.target.value)},onFormSubmit:function(){y.push("/user/".concat(o))}}):null,Object(v.jsx)(we.a,{dense:!0,className:a.root,children:f.map((function(e,c){var r="checkbox-list-secondary-label-".concat(e),i=e.friend;return Object(v.jsxs)(Ne.a,{children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)(ke.a,{src:"http://localhost:8080/TST/user/avatar/".concat(i.id)})}),Object(v.jsx)(ye.a,{id:r,className:a.text,children:Object(v.jsx)(oe,{href:"/user/".concat(i.username),style:{color:"white"},children:i.displayName})}),Object(v.jsx)(he.a,{theme:De,children:t?Object(v.jsx)(Ce.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return e=i.id,void function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/friends/unfriend/".concat(S,"/").concat(e)).catch((function(e){return console.log(e)}));case 2:w(!g);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()();var e},children:"Unfriend"}):Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)(Ce.a,{variant:"contained",color:"secondary",className:a.button,onClick:function(){return e=i.id,function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={idFriend:e,idUser:S},t.next=3,N.put("/friends/accept",n).catch((function(e){return console.log(e)}));case 3:w(!g);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),void n();var e},children:"Confirm"}),Object(v.jsx)(Ce.a,{color:"primary",variant:"contained",className:a.button2,onClick:function(){return e=i.id,function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/friends/reject/".concat(S,"/").concat(e)).catch((function(e){return console.log(e)}));case 2:w(!g);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),void n();var e},children:"Reject"})]})})]},c)}))})]})};function Pe(e){return Object(v.jsx)(m.a,Object(h.a)({elevation:6,variant:"filled"},e))}var Re=Object(G.a)((function(e){return{grow:{flexGrow:1},bar:{backgroundColor:"#282828"},explore:{marginRight:e.spacing(2)},title:Object(k.a)({display:"none"},e.breakpoints.up("sm"),{display:"block",fontFamily:"ProximaNovaSB"}),sectionDesktop:Object(k.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),exploreLabel:{marginLeft:e.spacing(1),fontSize:"1.2rem",fontFamily:"ProximaNovaSB"}}})),Fe=function(e){var t=e.logout,n=Re(),a=Object(r.useState)(""),c=Object(p.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(0),l=Object(p.a)(o,2),b=l[0],h=l[1],m=Object(r.useState)(!1),g=Object(p.a)(m,2),w=g[0],y=g[1],S=Object(r.useState)(!1),k=Object(p.a)(S,2),C=k[0],T=k[1],A=Object(r.useState)(""),I=Object(p.a)(A,2),D=I[0],E=I[1],P=localStorage.getItem("ID session"),R=Object(j.f)(),F=Object(r.useState)(null),L=Object(p.a)(F,2),U=L[0],W=L[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("friends/all-requests/".concat(P)).then((function(e){h(e.data.length)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=new x("http://localhost:8080/socket"),t=O.over(e);t.connect({},(function(e){t.subscribe("/topic/socket/user/send-request/".concat(P),(function(e){var t=e.body;E(t),T(!0),h(b+1)})),t.subscribe("/topic/socket/user/accept-request/".concat(P),(function(e){var t=e.body;E(t),T(!0)}))}))}()}),[P,b]);var M=Boolean(U),_=function(){W(null)},z="primary-search-account-menu",B=Object(v.jsxs)(Q.a,{anchorEl:U,anchorOrigin:{vertical:"top",horizontal:"right"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:M,onClose:_,children:[Object(v.jsx)(oe,{href:"/",children:Object(v.jsx)(K.a,{onClick:function(){_()},children:"Profile"})}),Object(v.jsx)(oe,{href:"/profile/edit",children:Object(v.jsx)(K.a,{onClick:function(){_()},children:"Edit"})}),Object(v.jsx)(oe,{href:"/report/bug",children:Object(v.jsx)(K.a,{onClick:function(){_()},children:"Report bug"})}),Object(v.jsx)(K.a,{onClick:function(){_(),t()},children:"Log out"})]});return Object(v.jsxs)("div",{className:n.grow,children:[Object(v.jsx)(Y.a,{position:"static",className:n.bar,children:Object(v.jsxs)($.a,{children:[Object(v.jsx)(oe,{href:"/",style:{color:"#fff"},children:Object(v.jsx)(X.a,{className:n.title,variant:"h4",noWrap:!0,children:"TST"})}),Object(v.jsx)(pe,{term:s,placeholder:"Search...",onFormChange:function(e){i(e.target.value)},onFormSubmit:function(){R.push("/search/".concat(s))}}),Object(v.jsx)(oe,{href:"/tv-shows/explore",style:{color:"#fff"},children:Object(v.jsxs)(J.a,{className:n.explore,color:"inherit",children:[Object(v.jsx)(re.a,{fontSize:"large"}),Object(v.jsx)(X.a,{className:n.exploreLabel,noWrap:!0,children:"Explore"})]})}),Object(v.jsx)("div",{className:n.grow}),Object(v.jsxs)("div",{className:n.sectionDesktop,children:[Object(v.jsx)(J.a,{"aria-label":"show new notifications",color:"inherit",onClick:function(){0!==b&&y(!0)},children:Object(v.jsx)(Z.a,{badgeContent:b,color:"secondary",children:Object(v.jsx)(ae.a,{fontSize:"large"})})}),Object(v.jsx)(J.a,{edge:"end","aria-label":"account of current user","aria-controls":z,"aria-haspopup":"true",onClick:function(e){W(e.currentTarget)},color:"inherit",children:Object(v.jsx)(te.a,{fontSize:"large"})})]})]})}),w?Object(v.jsx)(ge,{open:w,onClose:function(){y(!1)},children:Object(v.jsx)(Ee,{viewFriends:!1,onChangeNotification:function(){h(b-1)}})}):null,Object(v.jsx)(f.a,{open:C,autoHideDuration:6e3,onClose:function(){return T(!1)},children:Object(v.jsx)(Pe,{onClose:function(){return T(!1)},severity:"info",children:D})}),B]})},Le=n(327),Ue=Object(G.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},controls:{maxWidth:"400px",display:"flex",alignItems:"center",paddingLeft:e.spacing(2),paddingBottom:e.spacing(1)}}})),We=function(e){var t=e.tvshow,n=Ue();return Object(v.jsxs)("div",{className:n.details,children:[Object(v.jsxs)(Le.a,{className:n.content,children:[Object(v.jsxs)(X.a,{component:"h5",variant:"h5",children:[t.name," (",t.noOfSeasons," seasons / ",t.noOfEpisodes," ","episodes)"]}),Object(v.jsx)(X.a,{variant:"subtitle1",color:"textSecondary",children:t.genres.join(", ")})]}),Object(v.jsx)("div",{className:n.controls,children:t.overview})]})},Me=n(335),_e=n(334),ze=n(182),Be=n(336),qe=n(337),Ve=n(338),He=n(159),Ge=n.n(He),Ye=Object(se.a)({root:{"&:hover":{color:"#ffa25f"}}})(Ge.a),$e=n(331),Je=n(358),Xe=n(160),Ze=n.n(Xe),Ke=Object(se.a)({root:{color:"#fff","&:hover":{textDecoration:"none",color:"#ffa25f"}}})(ie.a),Qe=function(){return Object(v.jsxs)(X.a,{variant:"body2",align:"center",style:{color:"#fff"},children:["Copyright \xa9 ",Object(v.jsx)(Ke,{color:"inherit",href:"http://localhost:3000/",children:"TST"})," ",(new Date).getFullYear(),"."]})},et=n(365),tt=Object(se.a)({root:{"& label.Mui-focused":{color:"#ffa25f"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#ffa25f"},"&.Mui-focused fieldset":{borderColor:"#ffa25f"}},"& .MuiOutlinedInput-input:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #424242 inset"}}})(et.a),nt=Object(se.a)((function(e){return{root:{color:e.palette.getContrastText("#ffa25f"),backgroundColor:"#ffa25f","&:hover":{backgroundColor:"#ffa25f"},fontSize:"1.0rem"}}}))(Ce.a),at=n(332),ct=n(333),rt=Object(G.a)((function(e){return{paper:{margin:e.spacing(12,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#ffa25f"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),st=function(e){var t=e.signUp,n=e.forgetPassword,a=rt(),c=Object(r.useState)({username:"",password:""}),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(p.a)(l,2),b=j[0],f=j[1],m=function(e){var t=e.target,n=t.name,a=t.value;o(Object(h.a)(Object(h.a)({},i),{},Object(k.a)({},n,a)))},x=function(e){var t=e.id,n=e.role;localStorage.setItem("ID session",t.toString()),localStorage.setItem("User",n.toString()),localStorage.setItem("token","Basic "+btoa(i.username+":"+i.password)),window.location.reload()},O=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N.post("/basic-user/login",i).then((function(e){var t=e.data;x({id:t.id,role:t.role})})).catch((function(e){return alert(e.response.data.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:a.paper,children:[Object(v.jsx)(ke.a,{className:a.avatar,children:Object(v.jsx)(Ze.a,{})}),Object(v.jsx)(X.a,{component:"h1",variant:"h5",children:"Log in"}),Object(v.jsxs)("form",{className:a.form,onSubmit:O,children:[Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:i.username,onChange:m}),Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:b?"text":"password",id:"password",value:i.password,onChange:m,InputProps:{endAdornment:Object(v.jsx)($e.a,{position:"end",children:Object(v.jsx)(J.a,{"aria-label":"toggle password visibility",onClick:function(){return f(!b)},children:b?Object(v.jsx)(at.a,{}):Object(v.jsx)(ct.a,{})})})}}),Object(v.jsx)(nt,{type:"submit",fullWidth:!0,variant:"contained",className:a.submit,children:"Log In"})]}),Object(v.jsxs)(_e.a,{container:!0,children:[Object(v.jsx)(_e.a,{item:!0,xs:!0,children:Object(v.jsx)(Ke,{component:"button",variant:"body2",color:"inherit",onClick:n,children:"Forgot password?"})}),Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)(Ke,{component:"button",variant:"body2",color:"inherit",onClick:t,children:"Don't have an account? Sign Up"})})]}),Object(v.jsx)(Je.a,{mt:5,children:Object(v.jsx)(Qe,{})})]})},it=n(161),ot=n.n(it),lt=Object(G.a)((function(e){return{paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#ffa25f"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ut=function(e){var t=e.login,n=Object(r.useState)({username:"",email:"",role:"USER",password:""}),a=Object(p.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),l=Object(p.a)(o,2),b=l[0],f=l[1],m=Object(r.useState)(!1),x=Object(p.a)(m,2),O=x[0],g=x[1],w=Object(r.useState)(!1),y=Object(p.a)(w,2),S=y[0],A=y[1],I=lt(),D=Object(j.f)(),E=function(e){var t=e.target,n=t.name,a=t.value;"confirmPassword"===n?f(a):i(Object(h.a)(Object(h.a)({},c),{},Object(k.a)({},n,a)))},P=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c.password===b){e.next=4;break}return alert("Passwords do not match"),e.abrupt("return");case 4:if(!(c.password.length<8)){e.next=7;break}return alert("Password must have at least 8 characters"),e.abrupt("return");case 7:return A(!0),e.next=10,N.post("/user/add",c).then((function(){A(!1),D.goBack(2)})).catch((function(e){var t=e.response.data;t.message.includes("Bad request")?alert("Password must contains  at least 1 uppercase, 1 lowercase, 1 digit, 1 special character"):alert(t.message),A(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(s.a.Fragment,{children:S?Object(v.jsx)(C.a,{className:I.backdrop,open:S,children:Object(v.jsx)(T.a,{color:"inherit"})}):Object(v.jsxs)("div",{className:I.paper,children:[Object(v.jsx)(ke.a,{className:I.avatar,children:Object(v.jsx)(ot.a,{})}),Object(v.jsx)(X.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(v.jsx)("form",{className:I.form,onSubmit:P,children:Object(v.jsxs)(_e.a,{container:!0,spacing:2,children:[Object(v.jsx)(tt,{className:I.field,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:c.username,onChange:E}),Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:c.email,onChange:E}),Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",type:O?"text":"password",value:c.password,onChange:E,InputProps:{endAdornment:Object(v.jsx)($e.a,{position:"end",children:Object(v.jsxs)(J.a,{"aria-label":"toggle password visibility",onClick:function(){return g(!O)},children:[" ",O?Object(v.jsx)(at.a,{}):Object(v.jsx)(ct.a,{})]})})}}),Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"confirmPassword",label:"Confirm password",name:"confirmPassword",type:O?"text":"password",value:c.confirmPassword,onChange:E,InputProps:{endAdornment:Object(v.jsx)($e.a,{position:"end",children:Object(v.jsxs)(J.a,{"aria-label":"toggle password visibility",onClick:function(){return g(!O)},children:[" ",O?Object(v.jsx)(at.a,{}):Object(v.jsx)(ct.a,{})]})})}}),Object(v.jsx)(nt,{type:"submit",fullWidth:!0,variant:"contained",className:I.submit,children:"Sing Up"})]})}),Object(v.jsx)(_e.a,{container:!0,children:Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)(Ke,{component:"button",variant:"body2",color:"inherit",onClick:t,children:"Already have an account? Log in"})})}),Object(v.jsx)(Je.a,{mt:5,children:Object(v.jsx)(Qe,{})})]})})},dt=n(162),jt=n.n(dt),bt=Object(G.a)((function(e){return{paper:{margin:e.spacing(20,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#ffa25f"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),pt=function(e){var t=e.forgetPassword,n=bt(),a=Object(r.useState)(""),c=Object(p.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(!1),j=Object(p.a)(l,2),b=j[0],h=j[1];return Object(v.jsx)(s.a.Fragment,{children:b?Object(v.jsx)(C.a,{className:n.backdrop,open:b,children:Object(v.jsx)(T.a,{color:"inherit"})}):Object(v.jsxs)("div",{className:n.paper,children:[Object(v.jsx)(ke.a,{className:n.avatar,children:Object(v.jsx)(jt.a,{})}),Object(v.jsx)(X.a,{component:"h1",variant:"h5",children:"Forget password?"}),Object(v.jsxs)("form",{className:n.form,onSubmit:function(e){e.preventDefault(),function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,N.post("/reset-password?email=".concat(i)).then((function(){h(!1),alert("Email sent"),t()})).catch((function(){h(!1),alert("Something went wrong.\nPlease, contact us at tvshowstracker2021@gmail.com")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},children:[Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Your email",name:"email",value:i,onChange:function(e){return o(e.target.value)}}),Object(v.jsx)(nt,{type:"submit",fullWidth:!0,variant:"contained",className:n.submit,children:"Reset password"})]}),Object(v.jsx)(_e.a,{container:!0,children:Object(v.jsx)(_e.a,{item:!0,xs:!0,children:Object(v.jsx)(Ke,{component:"button",variant:"body2",color:"inherit",onClick:t,children:"Missclick? Go to first page"})})}),Object(v.jsx)(Je.a,{mt:5,children:Object(v.jsx)(Qe,{})})]})})},ht=n(163),ft=n.n(ht),mt=Object(G.a)((function(e){return{paper:{margin:e.spacing(20,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#ffa25f"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),xt=function(e){var t=e.changePassword,n=mt(),a=Object(j.g)(),c=Object(r.useState)({username:"",password:"",confirmPassword:""}),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),b=Object(p.a)(l,2),f=b[0],m=b[1],x=Object(r.useState)(!1),O=Object(p.a)(x,2),g=O[0],w=O[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/user/change-password?token=".concat(a.token)).then((function(e){return o({username:e.data,password:"",confirmPassword:""})})).catch((function(e){alert(e.response.data.message),m(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var y=function(e){var t=e.target,n=t.name,a=t.value;o(Object(h.a)(Object(h.a)({},i),{},Object(k.a)({},n,a)))};return f&&t(),Object(v.jsxs)("div",{className:n.paper,children:[Object(v.jsx)(ke.a,{className:n.avatar,children:Object(v.jsx)(ft.a,{})}),Object(v.jsx)(X.a,{component:"h1",variant:"h5",children:"Forget password?"}),Object(v.jsxs)("form",{className:n.form,onSubmit:function(e){e.preventDefault();var n=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:i.username,password:i.password},e.next=3,N.put("/user/set-new-password",n).then((function(){alert("New password set"),t()})).catch((function(e){alert(e.response.data.message)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.password!==i.confirmPassword?alert("Passwords do not match"):n()},children:[Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"New password",name:"password",type:g?"text":"password",value:i.password,onChange:y,InputProps:{endAdornment:Object(v.jsx)($e.a,{position:"end",children:Object(v.jsxs)(J.a,{"aria-label":"toggle password visibility",onClick:function(){return w(!g)},children:[" ",g?Object(v.jsx)(at.a,{}):Object(v.jsx)(ct.a,{})]})})}}),Object(v.jsx)(tt,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"confirmPassword",label:"Confirm new password",name:"confirmPassword",type:g?"text":"password",value:i.confirmPassword,onChange:y,InputProps:{endAdornment:Object(v.jsx)($e.a,{position:"end",children:Object(v.jsxs)(J.a,{"aria-label":"toggle password visibility",onClick:function(){return w(!g)},children:[" ",g?Object(v.jsx)(at.a,{}):Object(v.jsx)(ct.a,{})]})})}}),Object(v.jsx)(nt,{type:"submit",fullWidth:!0,variant:"contained",className:n.submit,children:"Reset password"})]}),Object(v.jsx)(Je.a,{mt:5,children:Object(v.jsx)(Qe,{})})]})},Ot=Object(G.a)((function(e){return{root:{height:"100vh"}}})),vt=function(e){var t=e.indexType,n=e.typeSelected,a=Object(j.f)(),c=Object(r.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),b=Object(p.a)(l,2),h=b[0],f=b[1],m=Object(r.useState)(null),x=Object(p.a)(m,2),O=x[0],g=x[1],w=Ot();return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/tv-show/posters").then((function(e){return o(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsxs)(he.a,{theme:Oe,children:[Object(v.jsx)(Me.a,{}),Object(v.jsxs)(_e.a,{container:!0,component:"main",className:w.root,children:[Object(v.jsx)(_e.a,{item:!0,xs:!1,sm:2,md:7,children:Object(v.jsx)(Be.a,{cellHeight:380,cols:4,spacing:0,children:i.map((function(e){return Object(v.jsxs)(qe.a,{children:[Object(v.jsx)("img",{src:e.posterPath,alt:e.id}),Object(v.jsx)(Ve.a,{title:e.name,actionIcon:Object(v.jsx)(J.a,{className:w.icon,onClick:function(){g(e),f(!0)},children:Object(v.jsx)(Ye,{})})})]},e.id)}))})}),Object(v.jsx)(_e.a,{item:!0,xs:12,sm:8,md:5,component:ze.a,elevation:6,children:n===t[0]?Object(v.jsx)(st,{signUp:function(){a.push("/register")},forgetPassword:function(){a.push("/forget-password")}}):n===t[1]?Object(v.jsx)(ut,{login:function(){a.goBack()}}):n===t[2]?Object(v.jsx)(pt,{forgetPassword:function(){a.goBack()}}):Object(v.jsx)(xt,{changePassword:function(){window.location.assign("/")}})})]}),!0===h?Object(v.jsx)(ge,{classes:w,open:h,onClose:function(){return f(!1)},children:Object(v.jsx)(We,{tvshow:O})}):null]})},gt=n(98),wt=n.n(gt),Nt=n(339),yt=n(61),St=n.n(yt),kt=Object(G.a)((function(e){return{root:{display:"flex",justify:"flex-end",overflow:"hidden"},icon:{color:"#fff"}}})),Ct=function(e){var t=e.tvShows,n=kt();return Object(v.jsx)(s.a.Fragment,{children:Object(v.jsx)(Nt.a,{className:n.root,children:Object(v.jsx)(Be.a,{cellHeight:300,className:n.gridList,cols:t.length,spacing:20,children:t.map((function(e){return Object(v.jsxs)(qe.a,{children:[Object(v.jsx)("img",{src:e.posterPath,alt:e.id,height:"280",width:"215"}),Object(v.jsx)(Ve.a,{title:e.name,subtitle:e.noOfSeasons+" seasons / "+e.status,actionIcon:Object(v.jsx)(oe,{href:"/tv-show/".concat(e.id),children:Object(v.jsx)(J.a,{className:n.icon,children:Object(v.jsx)(St.a,{})})})})]},e.id)}))})})})},Tt=n(340),At=n(342),It=n(341),Dt=Object(G.a)({root:{maxWidth:300,backgroundColor:"#424242"},media:{height:300}}),Et=Object(xe.a)({palette:{primary:Te.a,secondary:Ae.a}}),Pt=function(){var e=Dt(),t=localStorage.getItem("ID session"),n=Object(r.useState)(""),a=Object(p.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(!1),o=Object(p.a)(i,2),l=o[0],j=o[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("http://localhost:8080/TST/user/avatar/".concat(t)).then((function(e){""!==e.data&&j(!0)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return Object(v.jsxs)(Tt.a,{className:e.root,children:[""!==c?Object(v.jsx)(It.a,{className:e.media,image:URL.createObjectURL(c[0])}):null,Object(v.jsx)(At.a,{children:Object(v.jsx)("input",{type:"file",onChange:function(e){s(e.target.files)},style:{color:"white"}})}),Object(v.jsx)(At.a,{children:Object(v.jsxs)(he.a,{theme:Et,children:[Object(v.jsx)(Ce.a,{color:"secondary",variant:"contained",fullWidth:!0,size:"small",disabled:""===c,onClick:function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("avatar",c[0]),e.next=4,N.post("/user/upload-avatar/".concat(t),n).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),window.location.reload()},children:"Upload"}),Object(v.jsx)(Ce.a,{color:"primary",variant:"contained",fullWidth:!0,size:"small",disabled:!l,onClick:function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/user/delete-avatar/".concat(t)).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),window.location.reload()},children:"Remove avatar"})]})})]})},Rt=Object(G.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",backgroundColor:"#424242",color:"#fff",border:"1px solid #696969"},text:{fontFamily:"ProximaNova",color:"#fff",paddingLeft:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},tableCell:{color:"#fff"},large:{width:e.spacing(7),height:e.spacing(7)},textList:{color:"#fff",paddingLeft:e.spacing(1)}}})),Ft=function(){var e=Rt(),t=Object(r.useState)({displayName:""}),n=Object(p.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),i=Object(p.a)(s,2),o=i[0],l=i[1],b=Object(r.useState)([]),h=Object(p.a)(b,2),f=h[0],m=h[1],x=Object(r.useState)([]),O=Object(p.a)(x,2),g=O[0],w=O[1],y=Object(r.useState)([]),S=Object(p.a)(y,2),k=S[0],C=S[1],T=Object(r.useState)([]),A=Object(p.a)(T,2),I=A[0],D=A[1],E=Object(r.useState)({hours:0,days:0,months:0,episodesWatched:0}),P=Object(p.a)(E,2),R=P[0],F=P[1],L=Object(r.useState)(!1),U=Object(p.a)(L,2),W=U[0],M=U[1],_=Object(r.useState)(!1),z=Object(p.a)(_,2),B=z[0],q=z[1],V=Object(j.f)(),H=localStorage.getItem("ID session");Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/user/profile/".concat(H)).then((function(e){c(e.data)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/lists/only-four-tv-show/".concat(H)).then((function(e){for(var t=e.data,n=[],a=[],c=[],r=[],s=[],i=0;i<t.length;i++)"RECENTLY_WATCHED"===t[i].type&&n.push(t[i].tvShowInfoDto),"FAVORITES"===t[i].type&&a.push(t[i].tvShowInfoDto),"TO_WATCH"===t[i].type&&c.push(t[i].tvShowInfoDto),"UP_TO_DATE"===t[i].type&&r.push(t[i].tvShowInfoDto),"STOPPED"===t[i].type&&s.push(t[i].tvShowInfoDto);l(n),m(a),w(c),C(r),D(s)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/episode-viewed/get-metrics/".concat(H)).then((function(e){return F(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t(),n()}),[H]);return Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsxs)(_e.a,{container:!0,spacing:3,children:[Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsx)(ze.a,{className:e.paper,children:Object(v.jsxs)(Je.a,{display:"flex",alignItems:"center",children:[Object(v.jsxs)(Je.a,{children:[" ",Object(v.jsx)(J.a,{onClick:function(){return q(!0)},children:Object(v.jsx)(ke.a,{alt:"",src:"http://localhost:8080/TST/user/avatar/".concat(H),className:e.large})})]}),Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsxs)(X.a,{className:e.text,component:"h5",variant:"h5",style:{textAlign:"left"},children:[" ",a.displayName]})})]})})}),Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsxs)(ze.a,{className:e.paper,children:[Object(v.jsx)(Je.a,{display:"flex",alignItems:"center",children:Object(v.jsx)(Je.a,{width:"100%",margin:1.4,children:Object(v.jsxs)(X.a,{className:e.text,component:"h5",variant:"h5",style:{textAlign:"center"},children:[" ","My TV time"]})})}),Object(v.jsxs)(X.a,{className:e.text,variant:"subtitle1",style:{textAlign:"center",fontSize:"1.2rem"},children:[" ",R.months," months ",R.days," days ",R.hours," hours"]})]})}),Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsxs)(ze.a,{className:e.paper,children:[Object(v.jsx)(Je.a,{display:"flex",alignItems:"center",children:Object(v.jsx)(Je.a,{width:"100%",margin:1.4,children:Object(v.jsxs)(X.a,{className:e.text,component:"h5",variant:"h5",style:{textAlign:"center"},children:[" ","Episodes watched"]})})}),Object(v.jsxs)(X.a,{className:e.text,style:{textAlign:"center",fontSize:"1.2rem"},children:[" ",R.episodesWatched]})]})}),Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsx)(ze.a,{className:e.paper,children:Object(v.jsxs)(Je.a,{display:"flex",alignItems:"center",children:[Object(v.jsxs)(Je.a,{margin:1.4,children:[" ",Object(v.jsxs)(J.a,{onClick:function(){return M(!0)},style:{color:"#fff"},children:[" ",Object(v.jsx)(wt.a,{fontSize:"large"})]})]}),Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsxs)(X.a,{className:e.text,component:"h5",variant:"h5",style:{textAlign:"left"},children:[" ","Friends"]})})]})})}),[{label:"RECENTLY WATCHED",value:"recently-watched",tvShows:o},{label:"FAVORITES ",value:"favorites",tvShows:f},{label:"TO WATCH",value:"to-watch",tvShows:g},{label:"UP TO DATE / FINISHED",value:"up-to-date",tvShows:k},{label:"STOPPED",value:"stopped",tvShows:I}].map((function(t){return Object(v.jsx)(_e.a,{item:!0,xs:12,children:Object(v.jsxs)(ze.a,{className:e.paper,children:[Object(v.jsxs)(Je.a,{display:"flex",alignItems:"center",children:[Object(v.jsx)(Je.a,{margin:1,children:Object(v.jsx)(X.a,{style:{textAlign:"left",minWidth:"150px"},children:t.label})}),0!==t.tvShows.length&&"recently-watched"!==t.value?Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsx)(Ce.a,{onClick:function(){return V.push("/list/".concat(t.value,"/").concat(H))},style:{color:"#fff",float:"right"},children:"See all"})}):null]}),Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsx)(Ct,{tvShows:t.tvShows})})]})},t.label)}))]}),W?Object(v.jsx)(ge,{open:W,onClose:function(){return M(!1)},children:Object(v.jsx)(Ee,{viewFriends:!0})}):null,B?Object(v.jsx)(fe.a,{open:B,onClose:function(){return q(!1)},style:{position:"absolute",top:"20%",left:"40%"},children:Object(v.jsx)("div",{children:Object(v.jsx)(Pt,{})})}):null]})},Lt=n(330),Ut=n(367),Wt=n(361),Mt=n(366),_t=n(267),zt=n(164),Bt=n.n(zt),qt=n(165),Vt=n.n(qt),Ht=n(166),Gt=n.n(Ht),Yt=n(167),$t=n.n(Yt),Jt=n(343),Xt=n(368),Zt=Object(se.a)({root:{"& label.Mui-focused":{color:"#fff"},"& .MuiInput-underline:after":{borderBottomColor:"#fff"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"#fff"},"&.Mui-focused fieldset":{borderColor:"#fff"}},"& .MuiOutlinedInput-input:-webkit-autofill":{WebkitTextFillColor:"#fff",WebkitBoxShadow:"0 0 0 100px #424242 inset"}}})(et.a),Kt=Object(G.a)((function(e){return{root:{position:"absolute",top:"18%",left:"32%",border:"solid 1px #696969"},paper:{margin:e.spacing(1,4),display:"flex",flexDirection:"column",alignItems:"center"},title:{backgroundColor:"#585858",height:"40px",fontSize:"16px",color:"#fff",borderBottom:"2px solid #696969",padding:"8px 10px"},buttons:{display:"flex",flexDirection:"column",position:"absolute",top:"12%",left:"32%","& .MuiToggleButton-root.Mui-selected":{color:"#000",backgroundColor:"#fff"}},button:{border:"solid 2px #696969",color:"#fff"},form:{width:"100%",marginTop:e.spacing(1)},cssLabel:{color:"#fff","&.Mui-focused":{color:"#fff"}},formControl:{margin:e.spacing(1),left:"-1.5%"},select:{"&:before":{color:"#fff",borderColor:"#fff"},"&:after":{borderColor:"#fff"}},textarea:{color:"#fff",backgroundColor:"#424242",border:"1px solid #696969",margin:e.spacing(2),width:"99.8%",position:"relative",left:"-3.3%"},icon:{fill:"#fff"}}})),Qt=Object(G.a)((function(e){return{root:{"& .MuiOutlinedInput-input":{color:"#fff"},"& $notchedOutline":{borderColor:"#fff"},"&:hover $notchedOutline":{borderColor:"#fff"},"&$focused $notchedOutline":{borderColor:"#fff"}},focused:{},notchedOutline:{}}})),en=[{value:"general",label:"General"},{value:"about",label:"About me"},{value:"advanced",label:"Advanced"}],tn=[{label:"Female",value:"Famele"},{label:"Male",value:"Male"},{label:"Other",value:"Other"}],nn=["United States","Romania"],an=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+"-"+n+"-"+t},cn=function(){var e=Kt(),t=Qt(),n=Object(r.useState)(en[0]),a=Object(p.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)({username:"",email:"",displayName:"",gender:"",country:"",birthday:"",facebook:"",instagram:"",twitter:"",reddit:""}),l=Object(p.a)(o,2),j=l[0],b=l[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/user/get/".concat(localStorage.getItem("ID session"))).then((function(e){b(e.data)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(e){var t=e.target,n=t.name,a=t.value;b(Object(h.a)(Object(h.a)({},j),{},Object(k.a)({},n,a)))},m=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N.put("user/edit/".concat(localStorage.getItem("ID session")),j).then((function(){return window.location.reload()})).catch((function(e){console.log(e.response),alert(e.response.data.errors)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,name:"username",label:"Username",type:"text",id:"username",focused:!0,required:!0,value:j.username,onChange:f,InputProps:{className:e.cssLabel},InputLabelProps:{className:e.cssLabel}}),Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,focused:!0,name:"email",label:"Email",type:"email",id:"email",required:!0,value:j.email,onChange:f,InputProps:{className:e.cssLabel},InputLabelProps:{className:e.cssLabel}}),Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display name",type:"text",focused:!0,id:"displayName",required:!0,value:j.displayName,onChange:f,InputProps:{className:e.cssLabel},InputLabelProps:{className:e.cssLabel}}),Object(v.jsxs)(Lt.a,{variant:"outlined",fullWidth:!0,className:e.formControl,children:[Object(v.jsx)(Ut.a,{style:{color:"#fff"},children:"Gender"}),Object(v.jsxs)(Wt.a,{value:null!==j.gender?j.gender:"",onChange:f,input:Object(v.jsx)(Mt.a,{label:"Gender",name:"gender",id:"gender",classes:t}),inputProps:{classes:{icon:e.icon}},children:[Object(v.jsx)(K.a,{value:"",disabled:!0,children:Object(v.jsx)("em",{children:"None"})}),tn.map((function(e){return Object(v.jsx)(K.a,{value:e.value,children:e.label},e.value)}))]})]}),Object(v.jsxs)(Lt.a,{variant:"outlined",fullWidth:!0,className:e.formControl,children:[Object(v.jsx)(Ut.a,{style:{color:"#fff"},children:"Country"}),Object(v.jsxs)(Wt.a,{value:null!==j.country?j.country:"",onChange:f,input:Object(v.jsx)(Mt.a,{label:"Country",name:"country",id:"country",classes:t}),inputProps:{classes:{icon:e.icon}},children:[Object(v.jsx)(K.a,{value:"",disabled:!0,children:Object(v.jsx)("em",{children:"None"})}),nn.map((function(e){return Object(v.jsx)(K.a,{value:e,children:e},e)}))]})]}),Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Birthday",name:"birthday",type:"date",id:"birthday",value:null!==j.birthday?j.birthday:"",focused:!0,inputProps:{max:an()},onChange:f,InputProps:{className:e.cssLabel}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]}),O=Object(v.jsx)(_t.a,{className:e.textarea,rowsMin:10,id:"about",name:"about",value:null!==j.about?j.about:"",onChange:f}),g=Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,name:"facebook",label:"Facebook",type:"text",id:"facebook",value:null!==j.facebook?j.facebook:"",onChange:f,InputProps:{className:e.cssLabel,startAdornment:Object(v.jsx)($e.a,{position:"start",children:Object(v.jsx)(Bt.a,{})})},InputLabelProps:{className:e.cssLabel}}),Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,name:"instagram",label:"Instagram",type:"text",id:"instagram",value:null!==j.instagram?j.instagram:"",onChange:f,InputProps:{className:e.cssLabel,startAdornment:Object(v.jsx)($e.a,{position:"start",children:Object(v.jsx)(Vt.a,{})})},InputLabelProps:{className:e.cssLabel}}),Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,name:"twitter",label:"Twitter",type:"text",id:"twitter",value:null!==j.twitter?j.twitter:"",onChange:f,InputProps:{className:e.cssLabel,startAdornment:Object(v.jsx)($e.a,{position:"start",children:Object(v.jsx)(Gt.a,{})})},InputLabelProps:{className:e.cssLabel}}),Object(v.jsx)(Zt,{variant:"outlined",margin:"normal",fullWidth:!0,name:"reddit",label:"Reddit",type:"text",id:"reddit",value:null!==j.reddit?j.reddit:"",onChange:f,InputProps:{className:e.cssLabel,startAdornment:Object(v.jsx)($e.a,{position:"start",children:Object(v.jsx)($t.a,{})})},InputLabelProps:{className:e.cssLabel}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]});return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)("div",{className:e.buttons,children:Object(v.jsx)(Xt.a,{size:"small",value:c.value,exclusive:!0,children:en.map((function(t){return Object(v.jsx)(Jt.a,{value:t.value,className:e.button,onClick:function(){return i(t)},children:t.label},t.value)}))})}),Object(v.jsx)(Nt.a,{maxWidth:"sm",className:e.root,children:Object(v.jsxs)("div",{className:e.paper,children:[Object(v.jsx)(Nt.a,{maxWidth:"sm",className:e.title,children:c.label}),Object(v.jsxs)("form",{className:e.form,onSubmit:m,children:["general"===c.value?x:"about"===c.value?O:g,Object(v.jsx)(nt,{type:"submit",fullWidth:!0,variant:"contained",children:"Save"})]})]})})]})},rn=Object(G.a)((function(e){return{root:{display:"flex",justifyContent:"space-around",overflow:"hidden"},gridList:{position:"absolute",width:"90%",top:"12%"},icon:{color:"#fff"}}})),sn=function(e){var t=e.tvShows,n=rn(),a=Object(r.useState)([]),c=Object(p.a)(a,2),i=c[0],o=c[1],l=Object(j.g)(),b=l.type,h=l.id;return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return'"recently-watched'===b?t="RECENTLY_WATCHED":"favorites"===b?t="FAVORITES":"to-watch"===b?t="TO_WATCH":"stopped"===b&&(t="STOPPED"),e.next=3,N.get("/lists/all-tv-show/".concat(t,"/").concat(h));case 3:for(n=e.sent,a=n.data,c=[],r=0;r<a.length;r++)c.push(a[r].tvShowInfoDto);o(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();void 0!==t?o(t):e()}),[t,b,h]),Object(v.jsx)(s.a.Fragment,{children:Object(v.jsx)(Nt.a,{className:n.root,children:Object(v.jsx)(Be.a,{cellHeight:300,className:n.gridList,cols:6,spacing:20,children:i.map((function(e){return Object(v.jsxs)(qe.a,{children:[Object(v.jsx)("img",{src:e.posterPath,alt:e.id,height:"280",width:"215"}),Object(v.jsx)(Ve.a,{title:e.name,subtitle:e.noOfSeasons+" seasons / "+e.status,actionIcon:Object(v.jsx)(oe,{href:"/tv-show/".concat(e.id),children:Object(v.jsx)(J.a,{className:n.icon,children:Object(v.jsx)(St.a,{})})})})]},e.id)}))})})})},on=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/tv-show/info").then((function(e){a(e.data)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsx)(sn,{tvShows:n})},ln=n(344),un=n(345),dn=n(348),jn=n(351),bn=Object(se.a)((function(e){return{root:{color:e.palette.getContrastText("#fff"),backgroundColor:"rgba(255, 255, 255, 0.7)","&:hover":{backgroundColor:"#fff"},fontSize:"0.7rem"}}}))(Ce.a),pn=n(362),hn=n(347),fn=n(346),mn=n(173),xn=n.n(mn),On=n(349),vn=n(350),gn=c.a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",maxResults:1,type:"video",key:"AIzaSyA9EMMnCT7UAhmZM9R3PqOrp1SjyNAwhJk"}}),wn=n(180),Nn=n(82),yn=n(369),Sn=n(168),kn=n.n(Sn),Cn=n(169),Tn=n.n(Cn),An=n(170),In=n.n(An),Dn=n(171),En=n.n(Dn),Pn=n(172),Rn=n.n(Pn),Fn=Object(G.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{color:"#fff",flex:"1 0 auto"},controls:{color:"#fff",maxWidth:"650px",paddingLeft:e.spacing(2),paddingBottom:e.spacing(1)},image:{position:"relative","&:hover, &$focusVisible":{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}},focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")},button:{textAlign:"center"}}}));function Ln(e){var t=e.value,n=Object(wn.a)(e,["value"]);return Object(v.jsx)("span",Object(h.a)(Object(h.a)({},n),{},{children:Un[t].icon}))}var Un={1:{icon:Object(v.jsx)(kn.a,{}),label:"Very Dissatisfied"},2:{icon:Object(v.jsx)(Tn.a,{}),label:"Dissatisfied"},3:{icon:Object(v.jsx)(In.a,{}),label:"Neutral"},4:{icon:Object(v.jsx)(En.a,{}),label:"Satisfied"},5:{icon:Object(v.jsx)(Rn.a,{}),label:"Very Satisfied"}},Wn=function(e){var t=e.episodeToProp,n=e.idTvShow,a=e.isStopped,c=e.isLastEpiosde,s=Fn(),i=t.ep,o=Object(r.useState)(t.viewed.isViewed),l=Object(p.a)(o,2),b=l[0],h=l[1],f=Object(r.useState)(t.viewed.rating),m=Object(p.a)(f,2),x=m[0],O=m[1],g=localStorage.getItem("ID session"),w=Object(j.f)();return Object(v.jsxs)("div",{className:s.details,children:[Object(v.jsxs)(Le.a,{className:s.content,children:[Object(v.jsx)(X.a,{component:"h5",variant:"h5",children:i.name}),Object(v.jsxs)(X.a,{variant:"subtitle1",color:"textSecondary",children:["Season: ",i.noSeason," / Episode: ",i.episodeNumber," / Airdate: ",i.airDate," / Rating: ",i.rating.toFixed(1)]}),Object(v.jsxs)(Nn.a,{focusRipple:!0,className:s.image,focusVisibleClassName:s.focusVisible,style:{width:"600px",height:"350px"},onClick:function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=19;break}return t={idUser:g,idEpisode:i.id,rating:0},e.next=4,N.post("/episode-viewed/add",t).catch((function(e){return console.log(e.response)}));case 4:if(!a){e.next=9;break}return e.next=7,N.delete("/lists/remove-from-list/STOPPED/".concat(n,"/").concat(g)).catch((function(e){return console.log(e.response)}));case 7:return e.next=9,N.post("/lists/add-to-list",{type:"TO_WATCH",idUser:g,idTvShow:n}).catch((function(e){return console.log(e.response)}));case 9:return r={type:"RECENTLY_WATCHED",idUser:g,idTvShow:n},e.next=12,N.post("/lists/add-to-list",r).catch((function(e){return console.log(e.response)}));case 12:if(!c){e.next=17;break}return e.next=15,N.delete("/lists/remove-from-list/TO_WATCH/".concat(n,"/").concat(g)).catch((function(e){return console.log(e.response)}));case 15:return e.next=17,N.post("/lists/add-to-list",{type:"UP_TO_DATE",idUser:g,idTvShow:n}).catch((function(e){return console.log(e.response)}));case 17:e.next=28;break;case 19:return e.next=21,N.delete("/episode-viewed/delete/".concat(g,"/").concat(i.id)).catch((function(e){return console.log(e.response)}));case 21:return e.next=23,N.delete("/lists/remove-from-list/RECENTLY_WATCHED/".concat(n,"/").concat(g)).catch((function(e){return console.log(e.response)}));case 23:if(!c){e.next=28;break}return e.next=26,N.delete("/lists/remove-from-list/UP_TO_DATE/".concat(n,"/").concat(g)).catch((function(e){return console.log(e.response)}));case 26:return e.next=28,N.post("/lists/add-to-list",{type:"TO_WATCH",idUser:g,idTvShow:n}).catch((function(e){return console.log(e.response)}));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),h(!b)},children:[Object(v.jsx)("span",{className:s.imageSrc,style:{backgroundImage:"url(".concat(i.stillPath,")")}}),Object(v.jsx)("span",{className:s.imageBackdrop}),Object(v.jsx)("span",{className:s.imageButton,children:Object(v.jsxs)(X.a,{component:"span",variant:"subtitle1",color:"inherit",className:s.imageTitle,children:["Watched",!0===b?"!":"?",Object(v.jsx)("span",{className:s.imageMarked})]})})]})]}),Object(v.jsx)("div",{className:s.controls,children:i.overview}),!0===b?Object(v.jsxs)("div",{children:[Object(v.jsxs)(Je.a,{component:"fieldset",borderColor:"transparent",children:[Object(v.jsx)(X.a,{component:"legend",style:{color:"#fff"},children:"How was it?"}),Object(v.jsx)(yn.a,{name:"customized-icons",IconContainerComponent:Ln,value:x,onChange:function(e){var t=parseInt(e.target.value);(function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={idUser:g,idEpisode:i.id,rating:t},e.next=3,N.put("/episode-viewed/rate",n).catch((function(e){return console.log(e.response)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),O(t)}})]}),Object(v.jsx)("div",{className:s.button,children:Object(v.jsx)(bn,{onClick:function(){w.push("/episode/".concat(i.id,"/comments"))},children:"Display comments"})})]}):null]})},Mn=Object(G.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(3)},paper:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#424242",color:"#fff",border:"1px solid #696969"},text:{fontFamily:"ProximaNova",color:"#fff",padding:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},tableCell:{color:"#fff"},icon:{color:"#fff"}}})),_n=[{label:"To Watch",value:"TO_WATCH",disable:!1},{label:"Favorites",value:"FAVORITES",disable:!1},{label:"Remove/Stopped",value:"TO_WATCH",disable:!1}],zn=function(){var e=Object(j.g)().id,t=Mn(),n=Object(r.useState)({id:null,name:"",genres:[],noOfSeasons:0,noOfEpisodes:0,status:"",overview:"",networks:[],episodeRunTime:0,firstAirDate:null,lastAirDate:null,nextAirDate:null,rating:0,episodes:[]}),a=Object(p.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(!1),o=Object(p.a)(i,2),l=o[0],b=o[1],h=Object(r.useState)(null),f=Object(p.a)(h,2),m=f[0],x=f[1],O=Object(r.useState)(!1),g=Object(p.a)(O,2),w=g[0],y=g[1],S=Object(r.useState)({ep:null,viewed:{isViewed:!1,rating:0}}),k=Object(p.a)(S,2),C=k[0],T=k[1],A=Object(r.useState)([]),I=Object(p.a)(A,2),D=I[0],E=I[1],P=Object(r.useState)(null),R=Object(p.a)(P,2),F=R[0],L=R[1],U=Object(r.useState)(null),W=Object(p.a)(U,2),M=W[0],_=W[1],z=Object(r.useState)(!1),B=Object(p.a)(z,2),q=B[0],V=B[1],H=Boolean(M),G=Object(r.useState)(!1),Y=Object(p.a)(G,2),$=Y[0],J=Y[1];Object(r.useEffect)((function(){var t=localStorage.getItem("ID session"),n=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("tv-show/".concat(e)).then((function(e){var t=e.data;s(t),L(t.episodes[t.episodes.length-1].id)})).catch((function(e){console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var n=Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.get("/lists/find-in-list/".concat(t,"/TO_WATCH/").concat(e)).then((function(e){var t=e.data;0===t.length?(_n[0].disable=!1,_n[1].disable=!0,_n[2].disable=!0):t.includes(_n[1].value)?(_n[0].disable=!0,_n[1].disable=!1,_n[2].disable=!0,_n[1].label="Remove from Favorites"):t.includes("STOPPED")?(_n[0].disable=!0,_n[1].disable=!0,_n[2].disable=!0):(_n[0].disable=!0,_n[1].disable=!1,_n[2].disable=!1,_n[1].label="Favorites")})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(){var n=Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.get("/episode-viewed/tv-show/".concat(e,"/").concat(t)).then((function(e){E(e.data)})).catch((function(e){console.log(e.response)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n(),a(),c()}),[e,$]);var Z=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/search",{params:{q:t+" official trailer season 1"}});case 2:n=e.sent,a=n.data.items[0],x(a.id.videoId);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){_(null)},te=function(e){for(var t=0;t<D.length;t++)if(e.id===D[t].episodeId)return D[t].rating;return-1},ne=function(e){return e.map((function(e){return Object(v.jsxs)(ln.a,{children:[Object(v.jsx)(un.a,{className:t.tableCell,component:"th",scope:"row",children:e.episodeNumber}),Object(v.jsx)(un.a,{className:t.tableCell,align:"left",children:_n[0].disable?Object(v.jsx)(Ce.a,{onClick:function(){return function(e){var t=te(e),n=!1;-1!==t&&(n=!0),T({ep:e,viewed:{isViewed:n,rating:t}}),y(!0)}(e)},style:{color:"#fff"},children:e.name}):e.name}),Object(v.jsx)(un.a,{className:t.tableCell,align:"left",children:e.airDate}),Object(v.jsx)(un.a,{className:t.tableCell,align:"right",children:-1!==te(e)?Object(v.jsx)(St.a,{className:t.icon,style:{color:"#ffa25f"}}):Object(v.jsx)(St.a,{className:t.icon})})]},e.id)}))},ae=function(e,n){var a,c=n.filter((function(t){return t.noSeason===e}));return Object(v.jsxs)(pn.a,{className:t.paper,expanded:q==="panel".concat(e),onChange:(a="panel".concat(e),function(e,t){V(!!t&&a)}),children:[Object(v.jsx)(fn.a,{expandIcon:Object(v.jsx)(xn.a,{className:t.icon}),children:Object(v.jsxs)(X.a,{className:t.heading,children:["Seasons ",e]})}),Object(v.jsx)(hn.a,{children:Object(v.jsx)(dn.a,{children:Object(v.jsxs)(On.a,{children:[Object(v.jsx)(vn.a,{children:Object(v.jsxs)(ln.a,{children:[Object(v.jsx)(un.a,{className:t.tableCell,children:"No."}),Object(v.jsx)(un.a,{className:t.tableCell,align:"left",children:"Name"}),Object(v.jsx)(un.a,{className:t.tableCell,align:"left",children:"Air date"}),Object(v.jsx)(un.a,{className:t.tableCell,align:"right"})]})}),Object(v.jsx)(jn.a,{children:ne(c)})]})})})]},e)};return Object(v.jsxs)("div",{className:t.root,children:[null!==c?Object(v.jsxs)(_e.a,{container:!0,spacing:3,children:[Object(v.jsx)(_e.a,{item:!0,xs:12,children:Object(v.jsx)(ze.a,{className:t.paper,children:null!==c?Object(v.jsxs)(X.a,{className:t.text,component:"h4",variant:"h4",style:{textAlign:"left"},children:[c.name," (Score: ",c.rating.toFixed(1),"/5)"," ",Object(v.jsx)(bn,{onClick:function(e){_(e.currentTarget)},style:{fontSize:"0.8rem",width:"15%",float:"right"},children:"Add TVshow"}),Object(v.jsx)(Q.a,{anchorEl:M,keepMounted:!0,open:H,onClose:ee,children:_n.map((function(e){return Object(v.jsx)(K.a,{onClick:function(){ee(),function(e){var t={type:e.value,idUser:localStorage.getItem("ID session"),idTvShow:c.id},n=function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"STOPPED"===n&&(t.type=n),e.next=3,N.post("/lists/add-to-list",t).then((function(){J(!$)})).catch((function(e){console.log(e.response)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/lists/remove-from-list/".concat(t.type,"/").concat(t.idTvShow,"/").concat(t.idUser)).then((function(){J(!$)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();-1!==["To Watch","Favorites"].indexOf(e.label)?n():(a(),"TO_WATCH"===e.value&&0!==D.length&&n("STOPPED"))}(e)},disabled:e.disable,children:e.label},e.label)}))})]}):null})}),Object(v.jsx)(_e.a,{item:!0,xs:12,children:Object(v.jsxs)(ze.a,{className:t.paper,children:[" ",Object(v.jsxs)(X.a,{className:t.text,style:{textAlign:"left"},children:[c.status," / ",c.noOfSeasons," seasons /"," ",c.noOfEpisodes," episodes / ",c.episodeRunTime," minutes"]}),Object(v.jsx)(X.a,{className:t.text,style:{textAlign:"left",color:"rgba(255, 255, 255, 0.7)"},children:c.overview}),Object(v.jsxs)(X.a,{className:t.text,style:{textAlign:"left"},children:["Genres: ",c.genres.join(", ")]}),Object(v.jsxs)(X.a,{className:t.text,style:{textAlign:"left"},children:["Networks: ",c.networks.join(", ")]}),Object(v.jsxs)(X.a,{className:t.text,style:{textAlign:"left"},children:["First episode: ",c.firstAirDate," / Last episode:"," ",c.lastAirDate," ",null!==c.nextAirDate?"/ Next episode: "+c.nextAirDate:""]}),Object(v.jsx)("br",{}),Object(v.jsx)(bn,{onClick:function(){Z(c.name),b(!0)},children:"View trailer"})]})}),Object(v.jsx)(_e.a,{item:!0,xs:12,children:function(){for(var e=[],t=0;t<c.noOfSeasons;t++)e.push(ae(t+1,c.episodes));return e}()})]}):null,!0===l?Object(v.jsx)(fe.a,{className:t.modal,open:l,onClose:function(){b(!1)},children:Object(v.jsx)("iframe",{title:"video player",src:"https://www.youtube.com/embed/".concat(m),width:"854",height:"480"})}):null,!0===w?Object(v.jsx)(ge,{className:t.modal,open:w,onClose:function(){y(!1),J(!$)},children:Object(v.jsx)(Wn,{episodeToProp:C,idTvShow:e,isStopped:_n[0].disable&&_n[1].disable&&_n[2].disable,isLastEpiosde:C.ep.id===F})}):null]})},Bn=function(){var e=Object(j.g)().term,t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/tv-show/search/".concat(e)).then((function(e){c(e.data)})).catch((function(e){console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(v.jsx)(sn,{tvShows:a})},qn=n(352),Vn=n(353),Hn=n(354),Gn=n(355),Yn=Object(G.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",backgroundColor:"#424242",color:"#fff",border:"1px solid #696969"},text:{fontFamily:"ProximaNova",color:"#fff",paddingLeft:e.spacing(1)},text2:{fontFamily:"ProximaNova",color:"#fff",paddingLeft:e.spacing(1),fontSize:"1.1rem"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},tableCell:{color:"#fff"},large:{width:e.spacing(7),height:e.spacing(7)},textList:{color:"#fff",paddingLeft:e.spacing(1)},button:{color:"#fff",float:"left",fontFamily:"ProximaNova",fontSize:"1.2rem"},social:{color:"white",alignItems:"center",flexWrap:"wrap",marginTop:e.spacing(1)}}})),$n=["Add friend","Unfriend","Request sent","Accept friend"],Jn=function(){var e=Object(j.g)().term,t=Yn(),n=Object(r.useState)({displayName:""}),a=Object(p.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)($n[0]),l=Object(p.a)(o,2),b=l[0],h=l[1],f=Object(r.useState)([]),m=Object(p.a)(f,2),x=m[0],O=m[1],g=Object(r.useState)([]),w=Object(p.a)(g,2),y=w[0],S=w[1],k=Object(r.useState)([]),C=Object(p.a)(k,2),T=C[0],A=C[1],I=Object(r.useState)([]),D=Object(p.a)(I,2),E=D[0],P=D[1],R=Object(r.useState)([]),F=Object(p.a)(R,2),L=F[0],U=F[1],W=Object(r.useState)({hours:0,days:0,months:0,episodesWatched:0}),M=Object(p.a)(W,2),_=M[0],z=M[1],B=localStorage.getItem("ID session"),q=Object(j.f)();Object(r.useEffect)((function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/user/".concat(B,"/get-user/").concat(e)).then((function(e){var t=e.data;t.id.toString()===localStorage.getItem("ID session")&&window.location.assign("/"),i(t),a(t.id),c(t.id)})).catch((function(){window.location.assign("/")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/friends/friend/".concat(t,"/").concat(B)).then((function(e){""!==e.data&&h($n[3])})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/friends/friend/".concat(B,"/").concat(t)).then((function(e){""!==e.data?e.data.isAccepted?(h($n[1]),r(t)):h($n[2]):n(t)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/episode-viewed/get-metrics/".concat(t)).then((function(e){return z(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/lists/only-four-tv-show/".concat(t)).then((function(e){for(var t=e.data,n=[],a=[],c=[],r=[],s=[],i=0;i<t.length;i++)"RECENTLY_WATCHED"===t[i].type&&n.push(t[i].tvShowInfoDto),"FAVORITES"===t[i].type&&a.push(t[i].tvShowInfoDto),"TO_WATCH"===t[i].type&&c.push(t[i].tvShowInfoDto),"UP_TO_DATE"===t[i].type&&r.push(t[i].tvShowInfoDto),"STOPPED"===t[i].type&&s.push(t[i].tvShowInfoDto);O(n),S(a),A(c),P(r),U(s)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t()}),[e,B]);return Object(v.jsx)(s.a.Fragment,{children:Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)(_e.a,{container:!0,spacing:3,children:[Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsx)(ze.a,{className:t.paper,children:Object(v.jsxs)(Je.a,{display:"flex",alignItems:"center",children:[Object(v.jsxs)(Je.a,{margin:1.2,children:[" ",Object(v.jsx)(ke.a,{className:t.large,src:"http://localhost:8080/TST/user/avatar/".concat(c.id)})]}),Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsxs)(X.a,{className:t.text,component:"h5",variant:"h5",style:{textAlign:"left"},children:[" ",c.displayName]})})]})})}),Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsxs)(ze.a,{className:t.paper,children:[Object(v.jsx)(Je.a,{display:"flex",alignItems:"center",children:Object(v.jsx)(Je.a,{width:"100%",margin:1.2,children:Object(v.jsxs)(X.a,{className:t.text,component:"h5",variant:"h5",style:{textAlign:"center"},children:[" ","My TV time"]})})}),Object(v.jsxs)(X.a,{className:t.text,variant:"subtitle1",style:{textAlign:"center",fontSize:"1.2rem"},children:[" ",_.months," months ",_.days," days ",_.hours," ","hours"]})]})}),Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsxs)(ze.a,{className:t.paper,children:[Object(v.jsx)(Je.a,{display:"flex",alignItems:"center",children:Object(v.jsx)(Je.a,{width:"100%",margin:1.2,children:Object(v.jsxs)(X.a,{className:t.text,component:"h5",variant:"h5",style:{textAlign:"center"},children:[" ","Episodes watched"]})})}),Object(v.jsxs)(X.a,{className:t.text,variant:"subtitle1",style:{textAlign:"center",fontSize:"1.2rem"},children:[" ",_.episodesWatched]})]})}),Object(v.jsx)(_e.a,{item:!0,xs:3,children:Object(v.jsx)(ze.a,{className:t.paper,children:Object(v.jsxs)(Je.a,{display:"flex",alignItems:"center",children:[Object(v.jsxs)(Je.a,{margin:2.4,children:[" ",Object(v.jsx)(wt.a,{fontSize:"large"})]}),Object(v.jsx)(Je.a,{width:"100%",children:b===$n[0]?Object(v.jsx)(Ce.a,{className:t.button,onClick:function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/friends/request/".concat(B,"/").concat(c.id)).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),window.location.reload()},children:$n[0]}):b===$n[1]?Object(v.jsx)(Ce.a,{className:t.button,onClick:function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/friends/unfriend/".concat(B,"/").concat(c.id)).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),window.location.reload()},children:$n[1]}):b===$n[2]?Object(v.jsxs)(X.a,{className:t.text,component:"h5",variant:"h5",style:{textAlign:"left"},children:[" ",$n[2]]}):Object(v.jsx)(Ce.a,{className:t.button,onClick:function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idFriend:c.id,idUser:B},e.next=3,N.put("/friends/accept",t).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),window.location.reload()},children:$n[3]})})]})})}),b===$n[1]?Object(v.jsxs)(s.a.Fragment,{children:[null!==c.gender||null!==c.country||null!==c.birthday||null!==c.about||null!==c.facebook||null!==c.instagram||null!==c.twitter||null!==c.reddit?Object(v.jsx)(_e.a,{item:!0,xs:12,children:Object(v.jsxs)(ze.a,{className:t.paper,children:[Object(v.jsxs)(X.a,{className:t.text2,style:{textAlign:"left"},children:[null!==c.gender?"Gender: ":null,c.gender," ",null!==c.gender&&null!==c.country?"/":null," ",null!==c.country?"Country: ":null," ",c.country," ",null!==c.gender&&null!==c.country?"/":null," ",null!==c.birthday?"Birthday: ":null,c.birthday]}),null!==c.about?Object(v.jsx)(X.a,{className:t.text2,style:{paddingTop:"1%",paddingBottom:"1%",textAlign:"left",color:"rgba(255, 255, 255, 0.7)"},children:c.about}):null,c.facebook||c.instagram||c.twitter||c.reddit?Object(v.jsxs)(_e.a,{container:!0,direction:"row",alignItems:"center",spacing:1,children:[Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)(X.a,{className:t.text2,style:{textAlign:"left"},children:"You can find me on:"})}),c.facebook?Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)("a",{href:"https://www.facebook.com/".concat(c.facebook,"/"),children:Object(v.jsx)(qn.a,{fontSize:"small",className:t.social})})}):null,c.instagram?Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)("a",{href:"https://www.instagram.com/".concat(c.instagram,"/"),children:Object(v.jsx)(Vn.a,{fontSize:"small",className:t.social})})}):null,c.twitter?Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)("a",{href:"https://twitter.com/".concat(c.twitter),children:Object(v.jsx)(Hn.a,{fontSize:"small",className:t.social})})}):null,c.reddit?Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)("a",{href:"https://www.reddit.com/user/".concat(c.reddit),children:Object(v.jsx)(Gn.a,{fontSize:"small",className:t.social})})}):null]}):null]})}):null,[{label:"RECENTLY WATCHED",value:"recently-watched",tvShows:x},{label:"FAVORITES ",value:"favorites",tvShows:y},{label:"TO WATCH",value:"to-watch",tvShows:T},{label:"UP TO DATE / FINISHED",value:"up-to-date",tvShows:E},{label:"STOPPED",value:"stopped",tvShows:L}].map((function(e){return Object(v.jsx)(_e.a,{item:!0,xs:12,children:Object(v.jsxs)(ze.a,{className:t.paper,children:[Object(v.jsxs)(Je.a,{display:"flex",alignItems:"center",children:[Object(v.jsx)(Je.a,{margin:1,children:Object(v.jsx)(X.a,{style:{textAlign:"left",minWidth:"150px"},children:e.label})}),0!==e.tvShows.length&&"recently-watched"!==e.value?Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsx)(Ce.a,{onClick:function(){return q.push("/list/".concat(e.value,"/").concat(c.id))},style:{color:"#fff",float:"right"},children:"See all"})}):null]}),Object(v.jsx)(Je.a,{width:"100%",children:Object(v.jsx)(Ct,{tvShows:e.tvShows})})]})},e.label)}))]}):null]})})})},Xn=n(175),Zn=n.n(Xn),Kn=n(174),Qn=n.n(Kn),ea=n(357),ta=n(118),na=n.n(ta),aa=n(176),ca=n.n(aa),ra=n(356),sa=Object(G.a)((function(e){return{paper:{border:"1px solid #696969",backgroundColor:"#424242",margin:e.spacing(2),padding:"40px 20px"},avatar:{width:e.spacing(7),height:e.spacing(7)},textarea:{color:"#fff",backgroundColor:"#424242",border:"1px solid #696969",margin:e.spacing(2),width:"97%",position:"relative"},button:{left:"92.8%"},title:{textAlign:"left",color:"white"},icon:{float:"right",color:"white"},favorite:{float:"left",color:"white"},time:{textAlign:"left",color:"gray"},comment:{textAlign:"left",color:"white"},spoiler:{marginTop:e.spacing(-.5),marginLeft:e.spacing(.5)}}})),ia=function(){var e=sa(),t=Object(j.g)().id,n=localStorage.getItem("ID session"),a=Object(r.useState)([]),c=Object(p.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)([]),b=Object(p.a)(l,2),f=b[0],m=b[1],x=Object(r.useState)(""),O=Object(p.a)(x,2),g=O[0],w=O[1],y=Object(r.useState)(null),S=Object(p.a)(y,2),k=S[0],C=S[1],T=Object(r.useState)(null),A=Object(p.a)(T,2),I=A[0],D=A[1];Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/comment/all-comments/".concat(t,"/USER")).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/comment/all-liked-comments/".concat(n)).then((function(e){m(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),a()}),[t,n]);var E=function(e){for(var t=Math.round(e/60),n=0;t>59;)t-=60,n++;for(var a=0;n>23;)n-=24,a++;var c="";return 0===t&&0===n&&0===a?c="now":(a>0&&(c+=1===a?"1 day ":"".concat(a," days ")),n>0&&(c+=1===n?"1 hour ":"".concat(n," hours ")),t>0&&(c+=1===t?"1 minute ":"".concat(t," minutes ")),c+="ago"),c},R=Boolean(k),F=function(){C(null)},L="primary-search-account-menu",U=Object(v.jsxs)(Q.a,{anchorEl:k,anchorOrigin:{vertical:"top",horizontal:"right"},id:L,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:R,onClose:F,children:[Object(v.jsx)(oe,{href:"/report/spoiler/".concat(I),children:Object(v.jsx)(K.a,{onClick:function(){F()},children:"Spoiler"})}),Object(v.jsx)(oe,{href:"/report/inappropriate/".concat(I),children:Object(v.jsx)(K.a,{onClick:function(){F()},children:"Inappropriate"})})]});return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)(_t.a,{className:e.textarea,placeholder:"Enter your comment here",rowsMin:5,onChange:function(e){w(e.target.value)},value:g}),Object(v.jsx)(nt,{className:e.button,onClick:function(e){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={content:g,idEpisode:t,idUser:n},e.next=3,N.post("/comment/post",a).catch((function(e){return alert(e.response.data.errors)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),window.location.reload()},children:"POST"}),i.map((function(t,a){var c,r=t.user,s=((new Date).getTime()-(new Date(t.postDate).getTime()-6e4*(new Date).getTimezoneOffset()))/1e3;return Object(v.jsxs)(ze.a,{className:e.paper,children:[Object(v.jsxs)(_e.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(v.jsx)(_e.a,{item:!0,children:Object(v.jsx)(ke.a,{className:e.avatar,alt:"",src:"http://localhost:8080/TST/user/avatar/".concat(r.id)})}),Object(v.jsxs)(_e.a,{item:!0,xs:!0,children:[Object(v.jsxs)(X.a,{variant:"h5",className:e.title,children:[Object(v.jsxs)(Ke,{href:"/user/".concat(r.username),children:[" ",r.displayName]}),r.id==n?Object(v.jsx)(J.a,{className:e.icon,onClick:function(){return function(e){var t=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/report/delete-by-comment/".concat(e)).then((function(){return n()})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/comment/remove/".concat(e)).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(e),window.location.reload()}(t.id)},children:Object(v.jsx)(ra.a,{})}):Object(v.jsx)(J.a,{className:e.icon,onClick:function(e){return function(e,t){C(e.currentTarget),D(t)}(e,t.id)},children:Object(v.jsx)(Qn.a,{edge:"end","aria-label":"account of current user","aria-controls":L,"aria-haspopup":"true",color:"inherit"})})]}),Object(v.jsxs)(X.a,{variant:"subtitle2",component:"p",className:e.time,children:["posted ",E(s,t.postDate)]})," ",Object(v.jsx)("br",{}),t.isSpoiler?Object(v.jsx)(X.a,{className:e.comment,component:"h1",children:Object(v.jsxs)(_e.a,{item:!0,container:!0,children:[Object(v.jsx)(Zn.a,{}),Object(v.jsxs)("span",{children:["\xa0",Object(v.jsx)("b",{children:"SPOILER ALERT!"})," Some users flagged this comment as spoiler.\xa0"]})," ",Object(v.jsx)(bn,{className:e.spoiler,onClick:function(){return function(e){var t=Object(P.a)(i),n=Object(h.a)({},t[e]);n.isSpoiler=!1,t[e]=n,o(t)}(a)},children:"Display anyway"})]})}):Object(v.jsx)(X.a,{variant:"body1",component:"p",className:e.comment,children:t.content})]})]}),Object(v.jsx)("br",{}),Object(v.jsx)(ea.a,{style:{backgroundColor:"#696969"}}),r.id==n?Object(v.jsx)(X.a,{className:e.favorite,variant:"subtitle2",component:"h2",style:{marginTop:"10px",marginLeft:"9px"},children:Object(v.jsxs)(_e.a,{item:!0,container:!0,children:[Object(v.jsx)(na.a,{fontSize:"small"}),Object(v.jsx)("span",{children:"\xa0"})," ",t.likes]})}):(c=t.id,void 0===f.find((function(e){return e.id===c}))?Object(v.jsxs)(J.a,{className:e.favorite,onClick:function(){return function(e){(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.post("/comment/".concat(e,"/like-comment/").concat(n)).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),window.location.reload()}(t.id)},children:[" ",Object(v.jsx)(X.a,{variant:"subtitle2",component:"h2",children:Object(v.jsxs)(_e.a,{item:!0,container:!0,children:[Object(v.jsx)(ca.a,{fontSize:"small"}),Object(v.jsx)("span",{children:"\xa0"}),t.likes," "]})})]}):Object(v.jsxs)(J.a,{className:e.favorite,onClick:function(){return function(e){(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/comment/".concat(e,"/remove-like/").concat(n)).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),window.location.reload()}(t.id)},children:[" ",Object(v.jsx)(X.a,{variant:"subtitle2",component:"h2",children:Object(v.jsxs)(_e.a,{item:!0,container:!0,children:[Object(v.jsx)(na.a,{fontSize:"small"}),Object(v.jsx)("span",{children:"\xa0"}),t.likes," "]})})]})),U]},t.id)})),Object(v.jsx)("br",{})]})},oa=function(){var e=Object(j.g)().idEpisode,t=Object(r.useState)([]),n=Object(p.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/comment/all-comments/".concat(e,"/ADMIN")).then((function(e){return c(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var s=function(e){for(var t=Math.round(e/60),n=0;t>59;)t-=60,n++;for(var a=0;n>23;)n-=24,a++;var c="";return 0===t&&0===n&&0===a?c="now":(a>0&&(c+=1===a?"1 day ":"".concat(a," days ")),n>0&&(c+=1===n?"1 hour ":"".concat(n," hours ")),t>0&&(c+=1===t?"1 minute ":"".concat(t," minutes ")),c+="ago"),c},i=function(e,t){(function(){var n=Object(d.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={isSpoiler:t},n.next=3,N.put("/comment/edit/".concat(e),a).then((function(){return window.location.reload()})).catch((function(e){return console.log(e.response)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()};return Object(v.jsxs)("div",{className:"ui comments",children:[Object(v.jsx)("h3",{className:"ui dividing header",children:"Comments"}),a.map((function(e){var t=e.user,n=((new Date).getTime()-(new Date(e.postDate).getTime()-6e4*(new Date).getTimezoneOffset()))/1e3;return Object(v.jsxs)("div",{className:"comment",children:[Object(v.jsx)("div",{className:"avatar",children:Object(v.jsx)("img",{alt:"",src:"http://localhost:8080/TST/user/avatar/".concat(t.id)})}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)(b.b,{to:"/admin/users/update/".concat(t.id),children:t.username}),Object(v.jsx)("div",{className:"metadata",children:Object(v.jsx)("span",{className:"date",children:s(n,e.postDate)})}),Object(v.jsx)("div",{className:"text",children:e.content})]}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"ui negative right floated button",onClick:function(){return t=e.id,void function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/comment/remove/".concat(t)).then((function(){return window.location.reload()})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var t},children:"Delete comment"}),e.isSpoiler?Object(v.jsx)("button",{className:"ui green right floated button",onClick:function(){return i(e.id,!1)},children:"Mark as not spoiler"}):Object(v.jsx)("button",{className:"ui yellow right floated button",onClick:function(){return i(e.id,!0)},children:"Mark as spoiler"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]},e.id)})),Object(v.jsx)("br",{})]})},la=n(103),ua=n.n(la),da=n(101),ja=n.n(da),ba=n(102),pa=n.n(ba),ha=Object(G.a)((function(e){return{root:{position:"absolute",top:"18%",left:"32%",border:"solid 1px #696969"},paper:{margin:e.spacing(1,4),display:"flex",flexDirection:"column",alignItems:"center"},title:{backgroundColor:"#585858",height:"40px",color:"#fff",borderBottom:"2px solid #696969",padding:"8px 10px"},form:{width:"100%",marginTop:e.spacing(1)},textarea:{color:"#fff",backgroundColor:"#424242",border:"1px solid #696969",margin:e.spacing(2),width:"99.8%",position:"relative",left:"-3.3%"},icon:{fill:"#fff"}}})),fa=[{value:"SPOILER_COMMENT",label:"Report spoiler"},{value:"INAPPROPRIATE_COMMENT",label:"Report inappropriate comment"},{value:"BUG",label:"Report bug"}],ma=function(e){var t=e.type,n=ha(),a=Object(r.useState)({reportType:null,content:"",idUser:null}),c=Object(p.a)(a,2),s=c[0],i=c[1],o=Object(j.g)(),l=Object(r.useState)(null),b=Object(p.a)(l,2),f=b[0],m=b[1];Object(r.useEffect)((function(){i({reportType:t,idUser:localStorage.getItem("ID session")});var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/comment/".concat(o.id)).then((function(e){return m(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();void 0!==o.id&&e()}),[t,o]);return Object(v.jsx)(Nt.a,{maxWidth:"sm",className:n.root,children:Object(v.jsxs)("div",{className:n.paper,children:[Object(v.jsx)(Nt.a,{maxWidth:"sm",className:n.title,children:Object(v.jsx)(X.a,{variant:"inherit",style:{fontSize:"16px"},children:Object(v.jsxs)(_e.a,{item:!0,container:!0,children:[t===fa[0].value?Object(v.jsx)(ja.a,{}):t===fa[1].value?Object(v.jsx)(pa.a,{}):Object(v.jsx)(ua.a,{}),Object(v.jsx)("span",{children:"\xa0"}),fa.find((function(e){return e.value===t})).label," "]})})}),Object(v.jsxs)("form",{className:n.form,onSubmit:function(e){e.preventDefault(),function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,null!==f&&(t=f.id),n={reportType:s.reportType,content:s.content,idUser:s.idUser,idComment:t},e.next=5,N.post("/report/add",n).catch((function(e){return console.log(e.response)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),window.location.assign("/")},children:[t!==fa[2].value?Object(v.jsx)(_t.a,{disabled:!0,className:n.textarea,value:null!==f?f.content:"",style:{resize:"none",width:"100%"}}):null,Object(v.jsx)(_t.a,{className:n.textarea,required:!0,rowsMin:10,id:"content",name:"content",value:s.content,onChange:function(e){var t=e.target,n=t.name,a=t.value;i(Object(h.a)(Object(h.a)({},s),{},Object(k.a)({},n,a)))},placeholder:"Give the context on what happened"}),Object(v.jsx)(nt,{type:"submit",fullWidth:!0,variant:"contained",children:"Submit"})]})]})})},xa=[{value:"SPOILER_COMMENT",label:"Spoiler"},{value:"INAPPROPRIATE_COMMENT",label:"Inappropriate comment"},{value:"BUG",label:"Bug"}],Oa=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(p.a)(c,2),o=i[0],l=i[1];Object(r.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/report/view-all").then((function(e){return a(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsxs)("table",{className:"ui celled table",children:[Object(v.jsxs)("thead",{children:[Object(v.jsx)("tr",{children:Object(v.jsx)("th",{colSpan:"5",children:"Reports"})}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"ID"}),Object(v.jsx)("th",{children:"Report type"}),Object(v.jsx)("th",{children:"Sent date"}),Object(v.jsx)("th",{children:"Viewed"}),Object(v.jsx)("th",{})]})]}),Object(v.jsx)("tbody",{children:n.map((function(e){var t="NO";return e.isViewed&&(t="YES"),o&&e.isViewed||!e.isViewed?Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:Object(v.jsxs)(_e.a,{item:!0,container:!0,children:[e.reportType===xa[0].value?Object(v.jsx)(ja.a,{}):e.reportType===xa[1].value?Object(v.jsx)(pa.a,{}):Object(v.jsx)(ua.a,{})," ",Object(v.jsx)("span",{children:"\xa0\xa0"}),xa.find((function(t){return t.value===e.reportType})).label]})}),Object(v.jsx)("td",{children:e.sentDate}),Object(v.jsx)("td",{children:t}),Object(v.jsx)("td",{className:"selectable",children:Object(v.jsx)(b.b,{to:"/admin/report/".concat(e.id),className:"item",children:"View report"})})]},e.id):null}))})]}),o?null:Object(v.jsx)("button",{className:"ui left floated button",onClick:function(){return l(!0)},children:"View all reports"})]})},va=n(177),ga=[{value:"SPOILER_COMMENT",label:"Spoiler"},{value:"INAPPROPRIATE_COMMENT",label:"Inappropriate comment"},{value:"BUG",label:"Bug"}],wa=function(){var e=Object(j.g)().id,t=Object(r.useState)({id:0,reportType:"",content:"",sentDate:"",username:"",comment:null}),n=Object(p.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(null),o=Object(p.a)(i,2),l=o[0],h=o[1],f=Object(r.useState)(!1),m=Object(p.a)(f,2),x=m[0],O=m[1];Object(r.useEffect)((function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/report/".concat(e)).then((function(e){if(c(e.data),e.data.isViewed||n(),e.data.reportType!==ga[2].value){var t=e.data.comment.id;a(t)}})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.put("/report/mark/".concat(e)).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/comment/".concat(t)).then((function(e){return h(e.data.episode)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t()}),[e]);var g=ga.find((function(e){return e.value===a.reportType})),w=a.comment,y=null;null!==a.comment&&(y=a.comment.user);var S=function(e,t){(function(){var n=Object(d.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={isSpoiler:t},n.next=3,N.put("/comment/edit/".concat(e),a).then((function(){return window.location.reload()})).catch((function(e){return console.log(e.response)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()},k=function(e){(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/report/export/".concat(a.id),{params:{fileType:e},responseType:"text"}).then((function(t){var n="txt"==e?"text/plain;charset=utf-8":"text/xml;charset=utf-8",c=new Blob([t.data],{type:n});Object(va.saveAs)(c,"report-data-".concat(a.id,".")+e)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()};return Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsxs)("form",{className:"ui form",children:[Object(v.jsxs)("div",{className:"fields",children:[Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"ID"}),Object(v.jsx)("input",{type:"number",readOnly:!0,value:a.id})]}),Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"Report type"}),Object(v.jsx)("input",{type:"text",readOnly:!0,className:"form-control",value:void 0===g?"":g.label})]}),Object(v.jsxs)("div",{className:"six wide field",children:[Object(v.jsx)("label",{children:"Sent date"}),Object(v.jsx)("input",{type:"text",readOnly:!0,className:"form-control",value:a.sentDate})]})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("label",{children:["User",Object(v.jsx)("input",{type:"text",readOnly:!0,className:"form-control",value:a.username})]})}),Object(v.jsx)("div",{className:"field",children:Object(v.jsxs)("label",{children:["Report",Object(v.jsx)("textarea",{readOnly:!0,value:a.content})]})})]}),x?Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"ui segment",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("b",{children:"User reported:"})," \xa0\xa0"]}),Object(v.jsx)(b.b,{to:"/admin/users/update/".concat(y.id),children:y.username}),Object(v.jsx)("div",{className:"metadata",children:Object(v.jsxs)("span",{className:"date",children:[Object(v.jsx)("b",{children:"Post date:"})," ",w.postDate]})}),Object(v.jsxs)("div",{className:"text",children:[" ",Object(v.jsxs)("span",{children:[Object(v.jsx)("b",{children:"Comment:"})," \xa0\xa0"]}),w.content]})]})]}):null,null!==l?Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)(b.b,{to:"/admin/tvshows/show/".concat(l.tvShow.id,"/episode/").concat(l.id),children:Object(v.jsx)("button",{className:"ui left floated button",children:"View episode"})}),x?null:Object(v.jsx)("button",{className:"ui left floated button",onClick:function(){return O(!0)},children:"View comment"}),x?Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{className:"ui negative right floated button",onClick:function(){return function(t){var n=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("xml"),t.next=3,N.delete("/report/delete/".concat(e)).then((function(){a()})).catch((function(e){return console.log(e.response)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/comment/remove/".concat(t)).then((function(){return window.location.assign("/")})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}(w.id)},children:"Delete comment"}),w.isSpoiler?Object(v.jsx)("button",{className:"ui green right floated button",onClick:function(){return S(w.id,!1)},children:"Mark as not spoiler"}):Object(v.jsx)("button",{className:"ui yellow right floated button",onClick:function(){return S(w.id,!0)},children:"Mark as spoiler"})]}):null]}):Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"ui left floated button",onClick:function(){return k("xml")},children:"Export XML"}),Object(v.jsx)("button",{className:"ui left floated button",onClick:function(){return k("txt")},children:"Export TXT"})]})},Na=["/register","/login","/user/change-password/"],ya=["LOGIN","SIGUP","FORGET_PASSWORD","RESET_PASSWORD"],Sa=["SPOILER_COMMENT","INAPPROPRIATE_COMMENT","BUG"],ka=function(){var e=localStorage.getItem("ID session"),t=localStorage.getItem("User"),n=function(){(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.post("/basic-user/logout/".concat(e)).then((function(){localStorage.removeItem("ID session"),localStorage.removeItem("User"),localStorage.removeItem("token"),window.location.assign("/")})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()};"USER"===localStorage.getItem("User")&&(document.body.style.backgroundColor="#424242");return Object(v.jsx)(b.a,{children:null!==e?Object(v.jsxs)(s.a.Fragment,{children:["ADMIN"===t?Object(v.jsx)(j.b,{path:"",render:function(){return Object(v.jsx)(w,{logout:n})}}):Object(v.jsx)(j.b,{path:"",render:function(){return Object(v.jsx)(Fe,{logout:n})}}),Object(v.jsx)("div",{className:"ui container",children:Object(v.jsx)(s.a.Fragment,{children:"ADMIN"===t?Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)(j.b,{path:"/",exact:!0,component:Oa}),Object(v.jsx)(j.b,{path:"/admin/report/:id",exact:!0,component:wa}),Object(v.jsx)(j.b,{path:"/admin/users",exact:!0,component:S}),Object(v.jsx)(j.b,{path:"/admin/users/add",exact:!0,component:I}),Object(v.jsx)(j.b,{path:"/admin/users/update/:id",exact:!0,component:D}),Object(v.jsx)(j.b,{path:"/admin/tvshows/view",exact:!0,component:E}),Object(v.jsx)(j.b,{path:"/admin/tvshows/show/:id",exact:!0,component:B}),Object(v.jsx)(j.b,{path:"/admin/tvshows/add",exact:!0,component:_}),Object(v.jsx)(j.b,{path:"/admin/tvshows/show/:id/episodes",exact:!0,component:q}),Object(v.jsx)(j.b,{path:"/admin/tvshows/show/:id/add",exact:!0,component:H}),Object(v.jsx)(j.b,{path:"/admin/tvshows/show/:idShow/episode/:idEpisode",exact:!0,component:V}),Object(v.jsx)(j.b,{path:"/admin/tvshows/show/:idShow/episode/:idEpisode/comments",exact:!0,component:oa})]}):Object(v.jsxs)(s.a.Fragment,{children:[-1!==window.location.pathname.indexOf("admin")?Object(v.jsx)(j.a,{to:""}):null,Object(v.jsx)(j.b,{path:"/",exact:!0,component:Ft}),Object(v.jsx)(j.b,{path:"/profile/edit",exact:!0,component:cn}),Object(v.jsx)(j.b,{path:"/tv-shows/explore",exact:!0,component:on}),Object(v.jsx)(j.b,{path:"/tv-show/:id",exact:!0,component:zn}),Object(v.jsx)(j.b,{path:"/search/:term",exact:!0,component:Bn}),Object(v.jsx)(j.b,{path:"/list/:type/:id",exact:!0,component:sn}),Object(v.jsx)(j.b,{path:"/user/:term",exact:!0,component:Jn}),Object(v.jsx)(j.b,{path:"/episode/:id/comments/",exact:!0,component:ia}),Object(v.jsx)(j.b,{path:"/report/bug",exact:!0,component:function(){return Object(v.jsx)(ma,{type:Sa[2]})}}),Object(v.jsx)(j.b,{path:"/report/inappropriate/:id",exact:!0,component:function(){return Object(v.jsx)(ma,{type:Sa[1]})}}),Object(v.jsx)(j.b,{path:"/report/spoiler/:id",exact:!0,component:function(){return Object(v.jsx)(ma,{type:Sa[0]})}})]})})})]}):Object(v.jsxs)(s.a.Fragment,{children:[function(){var e=window.location.pathname;return void 0!==Na.find((function(t){return t===e}))||-1!==e.indexOf(Na[2])?null:Object(v.jsx)(j.a,{to:""})}(),Object(v.jsx)(j.b,{path:"/",exact:!0,render:function(){return Object(v.jsx)(vt,{indexType:ya,typeSelected:ya[0]})}}),Object(v.jsx)(j.b,{path:"/register",exact:!0,render:function(){return Object(v.jsx)(vt,{indexType:ya,typeSelected:ya[1]})}}),Object(v.jsx)(j.b,{path:"/forget-password",exact:!0,render:function(){return Object(v.jsx)(vt,{indexType:ya,typeSelected:ya[2]})}}),Object(v.jsx)(j.b,{path:"/user/change-password/:token",exact:!0,render:function(){return Object(v.jsx)(vt,{indexType:ya,typeSelected:ya[3]})}})]})})};c.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),o.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(ka,{})}),document.querySelector("#root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.93eeca9f.chunk.js.map